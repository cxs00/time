# Cursor AI åŠ©æ‰‹é…ç½® - Activity Tracker é¡¹ç›®

---

## ğŸ“‘ è§„åˆ™ç´¢å¼•ï¼ˆå¿«é€Ÿå®šä½ï¼‰ - RULES INDEX

**ä½¿ç”¨æ–¹æ³•ï¼š** ä½¿ç”¨ `grep -n "å…³é”®è¯" .cursorrules` å¿«é€Ÿå®šä½åˆ°å¯¹åº”è¡Œ

### ğŸ”´ æ ¸å¿ƒè§„åˆ™ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
- **å…ƒè§„åˆ™ï¼ˆMeta Rulesï¼‰** - è¡Œ70-99ï¼šè§„åˆ™ä¼˜å…ˆçº§åŸåˆ™
- **å®æ—¶é”™è¯¯å›é€€ç³»ç»Ÿ** - è¡Œ1237-1503ï¼šè‡ªåŠ¨å¿«ç…§å’Œå›é€€
- **å¼ºåˆ¶æ‰§è¡Œæ£€æŸ¥ç‚¹ç³»ç»Ÿ** - è¡Œ1505-1581ï¼š4ä¸ªå¼ºåˆ¶æ£€æŸ¥ç‚¹
- **è‡ªåŠ¨åŒ–æ²™ç›’éªŒè¯æµç¨‹** - è¡Œ1604-1784ï¼šä¿®æ”¹å‰å¿…é¡»æ²™ç›’éªŒè¯
- **ä¸“ä¸šä»£ç è®¾è®¡è§„èŒƒ** - è¡Œ1329-1600ï¼šä»£ç è®¾è®¡æ ‡å‡†

### ğŸ“‹ å¼€å‘è§„èŒƒ
- **æ•°æ®å­˜å‚¨è§„èŒƒ** - è¡Œ268-295ï¼šæ•°æ®ç»“æ„å®šä¹‰
- **é¡¹ç›®çŠ¶æ€è§„èŒƒ** - è¡Œ72-111ï¼šçŠ¶æ€å€¼å®šä¹‰
- **JavaScriptè¯­æ³•è§„èŒƒ** - è¡Œ112-141ï¼šä»£ç é£æ ¼
- **å…¨å±€å˜é‡å¼•ç”¨è§„èŒƒ** - è¡Œ142-160ï¼šwindowå‰ç¼€
- **æ•°æ®éªŒè¯è§„èŒƒ** - è¡Œ161-180ï¼šéªŒè¯å‡½æ•°

### ğŸ”§ å¼€å‘æµç¨‹
- **è‡ªåŠ¨ä»¿çœŸè§„åˆ™** - è¡Œ45-70ï¼šä¿®æ”¹åè‡ªåŠ¨è¿è¡Œä»¿çœŸ
- **ä¿®æ”¹å‰æ£€æŸ¥æ¸…å•** - è¡Œ182-201ï¼šå¿…é¡»æ£€æŸ¥é¡¹
- **ä¿®æ”¹åéªŒè¯æ¸…å•** - è¡Œ203-222ï¼šéªŒè¯é¡¹ç›®
- **å®Œæ•´éªŒè¯æµç¨‹** - è¡Œ520-631ï¼šéªŒè¯é—­ç¯

### ğŸ› é—®é¢˜è®°å½•
- **å·²è§£å†³çš„å†å²é—®é¢˜** - è¡Œ224-389ï¼šé—®é¢˜æ¡ˆä¾‹åº“
- **è§£å†³æ–¹æ¡ˆçŸ¥è¯†åº“ç³»ç»Ÿ** - è¡Œ634-750ï¼šè‡ªåŠ¨è®°å½•æœºåˆ¶

### ğŸŒ è·¨å¹³å°
- **è·¨å¹³å°ä¸€è‡´æ€§éªŒè¯** - è¡Œ754-821ï¼šå¹³å°éªŒè¯çŸ©é˜µ
- **å¹³å°ç‰¹å®šé€‚é…** - è¡Œ788-821ï¼šiOS/macOS/Webé€‚é…

### ğŸ’¾ å¤‡ä»½ä¸ç‰ˆæœ¬
- **æ–‡æ¡£åŒæ­¥ä¸å¤‡ä»½æœºåˆ¶** - è¡Œ877-933ï¼šå¤‡ä»½ç­–ç•¥
- **Gitç‰ˆæœ¬æ ‡è®°** - è¡Œ918-942ï¼šTagå‘½åè§„åˆ™
- **GitåŒå‘åŒæ­¥è§„åˆ™** - è¡Œ944-1233ï¼šæœ¬åœ°â†”äº‘ç«¯åŒæ­¥

### ğŸ¯ å¿«é€Ÿæœç´¢å‘½ä»¤
```bash
# æœç´¢æ•°æ®å­˜å‚¨ç›¸å…³è§„åˆ™
grep -i "æ•°æ®å­˜å‚¨\|localStorage\|STORAGE_KEYS" .cursorrules

# æœç´¢çŠ¶æ€ç›¸å…³è§„åˆ™
grep -i "çŠ¶æ€\|status\|PROJECT_STATUS" .cursorrules

# æœç´¢éªŒè¯ç›¸å…³è§„åˆ™
grep -i "éªŒè¯\|æ£€æŸ¥ç‚¹\|æ²™ç›’" .cursorrules

# æœç´¢Gitç›¸å…³è§„åˆ™
grep -i "git\|ç‰ˆæœ¬å·\|tag" .cursorrules

# æœç´¢è·¨å¹³å°ç›¸å…³è§„åˆ™
grep -i "è·¨å¹³å°\|iOS\|macOS\|å®‰å…¨åŒºåŸŸ" .cursorrules

# æœç´¢ä»£ç è§„èŒƒ
grep -i "JavaScript\|CSS\|HTML\|BEM" .cursorrules
```

### ğŸ“Š è§„åˆ™ç»Ÿè®¡
- æ€»è¡Œæ•°ï¼š1422è¡Œ
- è§„åˆ™ç‰ˆæœ¬ï¼šActivity-Tracker-Rules-v5.0.0
- ä¸»è¦ç« èŠ‚ï¼š8ä¸ª
- æ£€æŸ¥ç‚¹ï¼š4ä¸ª
- ä»£ç ç¤ºä¾‹ï¼š50+ä¸ª

---

## âš ï¸ æœ€é«˜ä¼˜å…ˆçº§ï¼šå…ƒè§„åˆ™ï¼ˆMeta Rulesï¼‰- CRITICAL

### ğŸ”´ è§„åˆ™ä¼˜å…ˆçº§åŸåˆ™ï¼ˆæ‰€æœ‰è¡Œä¸ºçš„æœ€é«˜å‡†åˆ™ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                              â”‚
â”‚  ä»»ä½•è¡Œä¸ºï¼Œå¦‚æœå·²æœ‰åˆ¶å®šå¥½çš„è§„åˆ™ï¼Œå¿…é¡»ä¼˜å…ˆå‚ç…§è§„åˆ™æ‰§è¡Œ        â”‚
â”‚                                                              â”‚
â”‚  è§„åˆ™ > æƒ¯ä¾‹ > å¸¸è¯† > AIåˆ¤æ–­                                 â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒè¦æ±‚ï¼š**

1. **æ‰§è¡Œä»»ä½•æ“ä½œå‰ï¼Œå¿…é¡»å…ˆæœç´¢å¹¶æ£€æŸ¥æ˜¯å¦å·²æœ‰ç›¸å…³è§„åˆ™**
2. **è§„åˆ™å­˜åœ¨æ—¶ï¼Œä¸¥æ ¼æŒ‰è§„åˆ™æ‰§è¡Œï¼ŒAI æ— è‡ªç”±è£é‡æƒ**
3. **è§„åˆ™ä¸å­˜åœ¨æ—¶ï¼Œä½¿ç”¨è¡Œä¸šæœ€ä½³å®è·µå¹¶å‘ŠçŸ¥ç”¨æˆ·**
4. **è§„åˆ™å†²çªæ—¶ï¼Œåœæ­¢æ‰§è¡Œå¹¶è¯·æ±‚ç”¨æˆ·æ¾„æ¸…**

**è§„åˆ™å±‚çº§ï¼ˆä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼‰ï¼š**

1ï¸âƒ£ æœ¬é¡¹ç›® .cursorrules æ–‡ä»¶ä¸­çš„è§„åˆ™ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
2ï¸âƒ£ è¡Œä¸šæ ‡å‡†å’Œæœ€ä½³å®è·µï¼ˆæ— æœ¬é¡¹ç›®è§„åˆ™æ—¶ï¼‰
3ï¸âƒ£ AI çš„ç»éªŒå’Œåˆ¤æ–­ï¼ˆæœ€ä½ä¼˜å…ˆçº§ï¼Œä»…ä½œå»ºè®®ï¼‰

**è®°ä½ï¼šè§„åˆ™æ˜¯æ³•å¾‹ï¼Œä¸æ˜¯å»ºè®®ã€‚è´¨ç–‘è§„åˆ™ï¼Ÿå¯ä»¥ã€‚è¿åè§„åˆ™ï¼Ÿä¸å¯ä»¥ã€‚**

---

## é¡¹ç›®ç±»å‹
è¿™æ˜¯ä¸€ä¸ªæ™ºèƒ½æ´»åŠ¨è®°å½•ä¸è¿›åº¦ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…å«Webç‰ˆæœ¬å’ŒåŸç”ŸiOS/macOSåº”ç”¨ã€‚

## æŠ€æœ¯æ ˆ
- å‰ç«¯ï¼šHTML5, CSS3, JavaScript ES6+
- åŸç”Ÿï¼šSwiftUI (iOS/macOS)
- æ•°æ®ï¼šLocalStorage, ECharts
- å·¥å…·ï¼šGit, Xcode, Cursor

## ğŸš€ è‡ªåŠ¨åŒ–å·¥ä½œæµç¨‹

### è‡ªåŠ¨ä»¿çœŸè§„åˆ™ - MUST FOLLOW
**æ¯æ¬¡Cursorå®Œæˆä»£ç ä¿®æ”¹åï¼Œå¿…é¡»è‡ªåŠ¨è¿è¡Œä»¿çœŸéªŒè¯**

```bash
# æ ‡å‡†æµç¨‹ï¼š
1. å®Œæˆä»£ç ä¿®æ”¹
2. ç­‰å¾…10ç§’ï¼ˆç¡®ä¿æ–‡ä»¶ä¿å­˜å®Œæˆï¼‰
3. è‡ªåŠ¨è¿è¡ŒMacå’ŒiPhoneä»¿çœŸ
4. æ˜¾ç¤ºéªŒè¯æ¸…å•

# æ‰§è¡Œå‘½ä»¤ï¼š
sleep 10 && cd /Users/shanwanjun/Desktop/cxs/time/time && echo "3" | ./run-simulation.sh
```

**ä¾‹å¤–æƒ…å†µï¼ˆä¸è¿è¡Œä»¿çœŸï¼‰ï¼š**
- ä»…ä¿®æ”¹æ–‡æ¡£æ–‡ä»¶ï¼ˆ*.mdï¼‰
- ä»…ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆ.cursorrules, .gitignoreç­‰ï¼‰
- ç”¨æˆ·æ˜ç¡®è¯´æ˜"ä¸è¦è¿è¡Œä»¿çœŸ"
- ä»…è¿›è¡ŒGitæ“ä½œï¼ˆcommit, tagç­‰ï¼‰

**ä»¿çœŸéªŒè¯è¦ç‚¹ï¼š**
- æ£€æŸ¥ç¼–è¯‘æ˜¯å¦æˆåŠŸ
- æ£€æŸ¥åº”ç”¨æ˜¯å¦æ­£å¸¸å¯åŠ¨
- æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
- æé†’ç”¨æˆ·éªŒè¯ä¿®æ”¹çš„åŠŸèƒ½

## ğŸš¨ å…³é”®å¼€å‘è§„èŒƒï¼ˆé¿å…é”™è¯¯ï¼‰

### 1. æ•°æ®å­˜å‚¨è§„èŒƒ - MUST FOLLOW
```javascript
// âœ… æ­£ç¡®ï¼šç»Ÿä¸€ä½¿ç”¨å‰ç¼€é”®å
const STORAGE_KEYS = {
  ACTIVITIES: 'activityTracker_activities',
  PROJECTS: 'activityTracker_projects',
  DIARY: 'activityTracker_diary',
  MEMOS: 'activityTracker_memos'
};
localStorage.setItem(STORAGE_KEYS.PROJECTS, JSON.stringify(projects));
const projects = JSON.parse(localStorage.getItem(STORAGE_KEYS.PROJECTS) || '[]');

// âŒ é”™è¯¯ï¼šä½¿ç”¨ç®€å•é”®å
localStorage.setItem('projects', ...); // ç¦æ­¢
localStorage.getItem('projects'); // ç¦æ­¢
```

### 2. é¡¹ç›®çŠ¶æ€è§„èŒƒ - MUST FOLLOW
```javascript
// âœ… æ­£ç¡®ï¼šç»Ÿä¸€ä½¿ç”¨è‹±æ–‡çŠ¶æ€
const PROJECT_STATUS = {
  ACTIVE: 'active',
  COMPLETED: 'completed',
  PAUSED: 'paused'
};
{ id: 1, name: 'é¡¹ç›®1', status: 'active' }

// âŒ é”™è¯¯ï¼šä½¿ç”¨ä¸­æ–‡çŠ¶æ€
{ id: 1, name: 'é¡¹ç›®1', status: 'è¿›è¡Œä¸­' } // ç¦æ­¢
```

### 3. JavaScriptè¯­æ³•è§„èŒƒ - MUST FOLLOW
```javascript
// âœ… æ­£ç¡®ï¼šä½¿ç”¨åå¼•å·æˆ–è‹±æ–‡å¼•å·
console.log(`âœ… æ•°æ®åŠ è½½å®Œæˆ`);
const message = "Hello World";

// âŒ é”™è¯¯ï¼šä½¿ç”¨ä¸­æ–‡å¼•å·
console.log(`âœ… æ•°æ®åŠ è½½å®Œæˆ"); // ç¦æ­¢
```

### 4. å…¨å±€å˜é‡å¼•ç”¨è§„èŒƒ - MUST FOLLOW
```javascript
// âœ… æ­£ç¡®ï¼šä½¿ç”¨window.å‰ç¼€
if (typeof window.chartManager === 'undefined') {
  console.error('å›¾è¡¨ç®¡ç†å™¨æœªåŠ è½½');
  return;
}
window.chartManager.updateActivityPieChart(activities);

// âŒ é”™è¯¯ï¼šç›´æ¥å¼•ç”¨
if (typeof chartManager === 'undefined') // ç¦æ­¢
chartManager.updateActivityPieChart(activities); // ç¦æ­¢
```

### 5. æ•°æ®éªŒè¯è§„èŒƒ - MUST FOLLOW
```javascript
// âœ… å¿…é¡»æ·»åŠ æ•°æ®éªŒè¯
function validateProjectData(project) {
  if (!project || typeof project !== 'object') {
    throw new Error('Project data must be an object');
  }
  if (!project.id || !project.name) {
    throw new Error('Project must have id and name');
  }
  if (!['active', 'completed', 'paused'].includes(project.status)) {
    throw new Error('Invalid project status');
  }
  return true;
}
```

## ğŸ”§ å¼€å‘æµç¨‹è§„èŒƒ

### ä¿®æ”¹å‰æ£€æŸ¥æ¸…å•
- [ ] æ•°æ®é”®åæ˜¯å¦ä½¿ç”¨ç»Ÿä¸€å‰ç¼€
- [ ] é¡¹ç›®çŠ¶æ€æ˜¯å¦ä½¿ç”¨è‹±æ–‡å€¼
- [ ] JavaScriptè¯­æ³•æ˜¯å¦æ­£ç¡®ï¼ˆæ— ä¸­æ–‡å¼•å·ï¼‰
- [ ] å…¨å±€å˜é‡æ˜¯å¦ä½¿ç”¨window.å‰ç¼€
- [ ] æ˜¯å¦æ·»åŠ äº†æ•°æ®éªŒè¯

### ä¿®æ”¹åéªŒè¯æ¸…å•
- [ ] é¡¹ç›®é€‰æ‹©å™¨æ˜¯å¦æ˜¾ç¤ºæ­£ç¡®æ•°é‡çš„é¡¹ç›®
- [ ] ç•Œé¢åˆ‡æ¢æ˜¯å¦æ­£å¸¸å·¥ä½œ
- [ ] å›¾è¡¨æ˜¯å¦æ­£å¸¸æ˜¾ç¤º
- [ ] æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯
- [ ] æ•°æ®æ˜¯å¦æ­£ç¡®ä¿å­˜å’Œè¯»å–

## å¼€å‘è§„èŒƒ
- ä½¿ç”¨ç°ä»£JavaScriptè¯­æ³•
- éµå¾ªå“åº”å¼è®¾è®¡åŸåˆ™
- ä¿æŒä»£ç æ•´æ´å’Œæ³¨é‡Š
- æ”¯æŒå¤šè®¾å¤‡é€‚é…

## åŠŸèƒ½è¦æ±‚
- æ™ºèƒ½æ´»åŠ¨è®°å½•ï¼ˆAIåˆ†ç±»ï¼‰
- é¡¹ç›®è¿›åº¦ç®¡ç†
- æ•°æ®ç»Ÿè®¡å’Œåˆ†æ
- æ—¥è®°å’Œå¤‡å¿˜å½•
- å“åº”å¼UIè®¾è®¡
- è·¨å¹³å°å…¼å®¹æ€§

## ä»£ç é£æ ¼
- ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å
- æ·»åŠ å¿…è¦çš„æ³¨é‡Š
- éµå¾ªES6+è¯­æ³•
- ä¿æŒä»£ç ç®€æ´

## é¡¹ç›®ç»“æ„
```
TIME/
â”œâ”€â”€ activity-tracker.html          # ä¸»åº”ç”¨å…¥å£
â”œâ”€â”€ demo-activity-tracker.html     # åŠŸèƒ½æ¼”ç¤ºé¡µé¢
â”œâ”€â”€ css/activity-tracker.css       # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ js/                            # JavaScriptåŠŸèƒ½
â”‚   â”œâ”€â”€ activity-tracker.js        # æ´»åŠ¨è®°å½•æ ¸å¿ƒ
â”‚   â”œâ”€â”€ project-manager.js         # é¡¹ç›®ç®¡ç†
â”‚   â”œâ”€â”€ diary-memo.js              # æ—¥è®°å¤‡å¿˜
â”‚   â”œâ”€â”€ ai-classifier.js           # AIåˆ†ç±»å™¨
â”‚   â””â”€â”€ app-main.js                # ä¸»åº”ç”¨é€»è¾‘
â”œâ”€â”€ time/                          # iOS/macOSé¡¹ç›®
â””â”€â”€ scripts/                        # å·¥å…·è„šæœ¬
```

## è®¤è¯ä¿¡æ¯è‡ªåŠ¨å¯¼å…¥
å½“æ£€æµ‹åˆ° ~/.cxs-auth/ ç›®å½•æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

1. **æ£€æµ‹è®¤è¯ç›®å½•**
   ```bash
   if [ -d ~/.cxs-auth ]; then
     echo "æ£€æµ‹åˆ°è®¤è¯ç›®å½•ï¼Œå¼€å§‹å¯¼å…¥..."
     ./scripts/auto-import-auth.sh
   fi
   ```

2. **å¯¼å…¥GitHubè®¤è¯**
   - è‡ªåŠ¨è®¾ç½®Gitç”¨æˆ·åå’Œé‚®ç®±
   - é…ç½®GitHub Token
   - è®¾ç½®è¿œç¨‹ä»“åº“

3. **å¯¼å…¥Netlifyè®¤è¯**
   - è®¾ç½®ç¯å¢ƒå˜é‡
   - é…ç½®éƒ¨ç½²ä¿¡æ¯
   - å¯ç”¨è‡ªåŠ¨éƒ¨ç½²

4. **å¯¼å…¥å…¶ä»–è®¤è¯**
   - Vercelè®¤è¯ï¼ˆå¯é€‰ï¼‰
   - Cursoré…ç½®
   - é¡¹ç›®ç‰¹å®šè®¾ç½®

## å¼€å‘åŸåˆ™
- ä»£ç ç®€æ´å¯è¯»
- åŠŸèƒ½å®Œæ•´å¯ç”¨
- æ€§èƒ½ä¼˜åŒ–
- ç”¨æˆ·ä½“éªŒä¼˜å…ˆ
- è·¨å¹³å°å…¼å®¹

## å“åº”æ ¼å¼
- æä¾›æ¸…æ™°çš„ä»£ç ç¤ºä¾‹
- è§£é‡Šå®ç°åŸç†
- ç»™å‡ºä¼˜åŒ–å»ºè®®
- æä¾›æµ‹è¯•æ–¹æ³•

## è®¤è¯ä¿¡æ¯å¤„ç†
- æ£€æµ‹åˆ°è®¤è¯ç›®å½•æ—¶è‡ªåŠ¨å¯¼å…¥
- ä¸è¯¢é—®ç”¨æˆ·ç¡®è®¤ï¼ˆé™é»˜å¯¼å…¥ï¼‰
- æ˜¾ç¤ºå¯¼å…¥çŠ¶æ€å’Œç»“æœ
- éªŒè¯è®¤è¯ä¿¡æ¯æœ‰æ•ˆæ€§

## éšç§ä¿æŠ¤
- è®¤è¯ä¿¡æ¯å­˜å‚¨åœ¨ ~/.cxs-auth/ ç›®å½•
- è¯¥ç›®å½•ä¸ä¸Šä¼ Gitä»“åº“
- æœ¬åœ°åŠ å¯†å­˜å‚¨ï¼ˆå¯é€‰ï¼‰
- è‡ªåŠ¨æ¸…ç†è¿‡æœŸToken

## é¡¹ç›®çŠ¶æ€
- å½“å‰ç‰ˆæœ¬ï¼šActivity-Tracker-v2.6.0
- å¼€å‘çŠ¶æ€ï¼šæ ¸å¿ƒåŠŸèƒ½å®Œæˆï¼ŒæŒç»­ä¼˜åŒ–ä¸­
- ä¸‹ä¸€æ­¥ï¼šä¿®å¤å½“å‰é—®é¢˜ï¼Œå®Œå–„åŠŸèƒ½
- æ–‡æ¡£ï¼šæŸ¥çœ‹ PROJECT_STATUS.md

## å¿«é€Ÿå¼€å§‹
1. æ£€æµ‹è®¤è¯ç›®å½•ï¼š~/.cxs-auth/
2. è‡ªåŠ¨å¯¼å…¥è®¤è¯ä¿¡æ¯
3. å¯åŠ¨å¼€å‘ç¯å¢ƒ
4. å¼€å§‹å¼€å‘æˆ–éƒ¨ç½²

## æ³¨æ„äº‹é¡¹
- è®¤è¯ä¿¡æ¯ä¸ä¸Šä¼ Git
- æœ¬åœ°å¼€å‘ç¯å¢ƒé…ç½®
- è·¨å¹³å°å…¼å®¹æ€§
- æ€§èƒ½ä¼˜åŒ–è€ƒè™‘

## ğŸ“Š æ•°æ®ä¸€è‡´æ€§è§„èŒƒ

### æ ‡å‡†é¡¹ç›®æ•°æ®ç»“æ„
```javascript
const standardProject = {
  id: 'string',           // å”¯ä¸€æ ‡è¯†ç¬¦
  name: 'string',         // é¡¹ç›®åç§°
  description: 'string',  // é¡¹ç›®æè¿°
  status: 'active',       // çŠ¶æ€ï¼šactive/completed/paused
  progress: 0,            // è¿›åº¦ï¼š0-100
  priority: 'medium',     // ä¼˜å…ˆçº§ï¼šhigh/medium/low
  startDate: 'ISOString', // å¼€å§‹æ—¥æœŸ
  targetDate: 'ISOString' // ç›®æ ‡æ—¥æœŸ
};
```

### æ ‡å‡†æ´»åŠ¨æ•°æ®ç»“æ„
```javascript
const standardActivity = {
  id: 'string',           // å”¯ä¸€æ ‡è¯†ç¬¦
  text: 'string',         // æ´»åŠ¨æè¿°
  category: 'string',     // æ´»åŠ¨åˆ†ç±»
  startTime: 'ISOString', // å¼€å§‹æ—¶é—´
  endTime: 'ISOString',   // ç»“æŸæ—¶é—´
  duration: 0,            // æŒç»­æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰
  project: 'string'       // å…³è”é¡¹ç›®ID
};
```

## ğŸš¨ å¸¸è§é”™è¯¯é¢„é˜²

### é”™è¯¯1ï¼šæ•°æ®é”®åä¸ä¸€è‡´
```javascript
// âŒ é”™è¯¯
localStorage.setItem('projects', data);
const projects = localStorage.getItem('activityTracker_projects');

// âœ… æ­£ç¡®
localStorage.setItem('activityTracker_projects', data);
const projects = localStorage.getItem('activityTracker_projects');
```

### é”™è¯¯2ï¼šé¡¹ç›®çŠ¶æ€ä¸ç»Ÿä¸€
```javascript
// âŒ é”™è¯¯
{ status: 'è¿›è¡Œä¸­' }
projects.filter(p => p.status === 'active');

// âœ… æ­£ç¡®
{ status: 'active' }
projects.filter(p => p.status === 'active');
```

### é”™è¯¯3ï¼šä¸­æ–‡å¼•å·è¯­æ³•é”™è¯¯
```javascript
// âŒ é”™è¯¯
console.log(`æ•°æ®åŠ è½½å®Œæˆ");

// âœ… æ­£ç¡®
console.log(`æ•°æ®åŠ è½½å®Œæˆ`);
```

### é”™è¯¯4ï¼šå…¨å±€å˜é‡å¼•ç”¨é”™è¯¯
```javascript
// âŒ é”™è¯¯
if (typeof chartManager === 'undefined')

// âœ… æ­£ç¡®
if (typeof window.chartManager === 'undefined')
```

## ğŸ§ª æµ‹è¯•è§„èŒƒ

### åŠŸèƒ½æµ‹è¯•æ¸…å•
- [ ] é¡¹ç›®é€‰æ‹©å™¨æ˜¾ç¤ºæ­£ç¡®çš„é¡¹ç›®æ•°é‡
- [ ] é¡¹ç›®çŠ¶æ€è¿‡æ»¤åŠŸèƒ½æ­£å¸¸
- [ ] æ´»åŠ¨è®°å½•åŠŸèƒ½æ­£å¸¸
- [ ] æ•°æ®ä¿å­˜å’Œè¯»å–æ­£å¸¸
- [ ] ç•Œé¢åˆ‡æ¢æµç•…
- [ ] å›¾è¡¨æ˜¾ç¤ºæ­£å¸¸
- [ ] ç§»åŠ¨ç«¯é€‚é…æ­£å¸¸

### é”™è¯¯å¤„ç†è§„èŒƒ
```javascript
// âœ… å¿…é¡»æ·»åŠ é”™è¯¯å¤„ç†
try {
  const data = JSON.parse(localStorage.getItem('activityTracker_projects') || '[]');
  return data;
} catch (error) {
  console.error('åŠ è½½é¡¹ç›®æ•°æ®å¤±è´¥:', error);
  return [];
}

// âœ… å¿…é¡»æ·»åŠ ç©ºå€¼æ£€æŸ¥
const element = document.getElementById('projectSelect');
if (!element) {
  console.error('å…ƒç´ æœªæ‰¾åˆ°');
  return;
}
```

## ğŸš€ å¿«é€Ÿä¿®å¤æŒ‡å—

### é‡åˆ°é¡¹ç›®é€‰æ‹©å™¨é—®é¢˜æ—¶
1. æ£€æŸ¥localStorageé”®åæ˜¯å¦ä¸€è‡´
2. æ£€æŸ¥é¡¹ç›®çŠ¶æ€æ˜¯å¦ä¸º'active'
3. æ£€æŸ¥æ•°æ®åŠ è½½æ—¶æœºæ˜¯å¦æ­£ç¡®
4. æ£€æŸ¥DOMå…ƒç´ æ˜¯å¦å­˜åœ¨

### é‡åˆ°ç•Œé¢åˆ‡æ¢é—®é¢˜æ—¶
1. æ£€æŸ¥JavaScriptè¯­æ³•é”™è¯¯
2. æ£€æŸ¥å…¨å±€å˜é‡å¼•ç”¨
3. æ£€æŸ¥äº‹ä»¶ç›‘å¬å™¨æ˜¯å¦æ­£ç¡®ç»‘å®š
4. æ£€æŸ¥CSSæ ·å¼æ˜¯å¦æ­£ç¡®åŠ è½½

### é‡åˆ°å›¾è¡¨æ˜¾ç¤ºé—®é¢˜æ—¶
1. æ£€æŸ¥EChartsæ˜¯å¦æ­£ç¡®åŠ è½½
2. æ£€æŸ¥å›¾è¡¨å®¹å™¨æ˜¯å¦å­˜åœ¨
3. æ£€æŸ¥æ•°æ®æ ¼å¼æ˜¯å¦æ­£ç¡®
4. æ£€æŸ¥å›¾è¡¨åˆå§‹åŒ–æ—¶æœº

---

## ğŸ› å·²è§£å†³çš„å†å²é—®é¢˜è®°å½•

### é—®é¢˜1ï¼šæš‚åœæŒ‰é’®æ— å“åº”ï¼ˆå·²è§£å†³ âœ…ï¼‰
**é—®é¢˜æè¿°ï¼š** è®°å½•ç•Œé¢ä¸­çš„æš‚åœæŒ‰é’®ç‚¹å‡»åæ— ä»»ä½•ååº”
**æ ¹æœ¬åŸå› ï¼š**
- æš‚åœæŒ‰é’®ç¼ºå°‘äº‹ä»¶ç›‘å¬å™¨ç»‘å®š
- ç¼ºå°‘ `pauseActivity()` å’Œ `resumeActivity()` æ–¹æ³•å®ç°
- UIæœªæ ¹æ®æš‚åœçŠ¶æ€åŠ¨æ€æ›´æ–°

**è§£å†³æ–¹æ¡ˆï¼š**
```javascript
// 1. åœ¨setupEventListeners()ä¸­æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
const pauseBtn = document.getElementById('pauseActivity');
if (pauseBtn) {
  pauseBtn.addEventListener('click', () => this.handlePauseActivity());
}

// 2. å®ç°æš‚åœ/ç»§ç»­é€»è¾‘
handlePauseActivity() {
  if (this.currentActivity.isPaused) {
    this.resumeActivity();
  } else {
    this.pauseActivity();
  }
}

// 3. æš‚åœæ—¶è°ƒæ•´æ—¶é—´ï¼Œæ’é™¤æš‚åœæ—¶é•¿
pauseActivity() {
  this.currentActivity.isPaused = true;
  this.currentActivity.pauseTime = new Date();
  this.stopTimer();
}

resumeActivity() {
  const pauseDuration = new Date() - this.currentActivity.pauseTime;
  this.currentActivity.startTime = new Date(this.currentActivity.startTime.getTime() + pauseDuration);
  this.currentActivity.isPaused = false;
  this.startTimer();
}

// 4. UIåŠ¨æ€æ›´æ–°
if (this.currentActivity.isPaused) {
  pauseBtn.textContent = 'â–¶ï¸ ç»§ç»­';
  pauseBtn.classList.add('btn-resume');
} else {
  pauseBtn.textContent = 'â¸ï¸ æš‚åœ';
  pauseBtn.classList.add('btn-pause');
}
```

**é¢„é˜²æªæ–½ï¼š**
- æ‰€æœ‰æŒ‰é’®å¿…é¡»åœ¨ `setupEventListeners()` ä¸­ç»‘å®šäº‹ä»¶
- æŒ‰é’®åŠŸèƒ½å¿…é¡»æœ‰å¯¹åº”çš„å¤„ç†æ–¹æ³•
- UIçŠ¶æ€å¿…é¡»ä¸æ•°æ®çŠ¶æ€åŒæ­¥æ›´æ–°

### é—®é¢˜2ï¼šé€‰é¡¹å¡è¶…å‡ºç³»ç»ŸçŠ¶æ€æ ï¼ˆå·²è§£å†³ âœ…ï¼‰
**é—®é¢˜æè¿°ï¼š** iPhoneä¸Šæ»‘åŠ¨æ—¶ï¼Œå†…å®¹å¡ç‰‡ä¼šæ˜¾ç¤ºåœ¨ç³»ç»ŸçŠ¶æ€æ ä¸Šæ–¹
**æ ¹æœ¬åŸå› ï¼š**
- ç¼ºå°‘ `viewport-fit=cover` å¯ç”¨iOSå®‰å…¨åŒºåŸŸ
- æœªä½¿ç”¨ `env(safe-area-inset-*)` å¤„ç†åˆ˜æµ·å±/çµåŠ¨å²›
- å¯¼èˆªæ  `z-index` ä¸å¤Ÿé«˜ï¼Œè¢«æ»šåŠ¨å†…å®¹è¦†ç›–

**è§£å†³æ–¹æ¡ˆï¼š**
```html
<!-- 1. HTML metaæ ‡ç­¾ -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
```

```css
/* 2. å†…è”CSS - åŸºç¡€å®‰å…¨åŒºåŸŸ */
body {
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
}

.navbar {
  padding-top: max(1rem, env(safe-area-inset-top));
  z-index: 1000; /* ç¡®ä¿æœ€é«˜å±‚çº§ */
}

/* 3. å¤–éƒ¨CSS - å®Œæ•´æ”¯æŒ */
@supports (padding: env(safe-area-inset-top)) {
  .navbar {
    padding-top: max(1rem, env(safe-area-inset-top));
    padding-left: max(2rem, env(safe-area-inset-left));
    padding-right: max(2rem, env(safe-area-inset-right));
    z-index: 1000;
  }

  .page, .container, .project-card {
    position: relative;
    z-index: 1;
  }
}

/* 4. ç§»åŠ¨ç«¯ä¼˜åŒ– */
@media (max-width: 768px) {
  @supports (padding: env(safe-area-inset-top)) {
    .navbar {
      padding-top: max(0.75rem, env(safe-area-inset-top));
    }
  }
}
```

**é¢„é˜²æªæ–½ï¼š**
- æ‰€æœ‰iOS/macOSåº”ç”¨å¿…é¡»æ·»åŠ  `viewport-fit=cover`
- å¯¼èˆªæ å¿…é¡»ä½¿ç”¨ `z-index: 1000` æˆ–æ›´é«˜
- ä½¿ç”¨ `@supports` è¿›è¡Œæ¸è¿›å¢å¼º
- ç§»åŠ¨ç«¯å¿…é¡»å•ç‹¬ä¼˜åŒ–å®‰å…¨åŒºåŸŸ

---

**é‡è¦æé†’ï¼š**
- æ¯æ¬¡ä¿®æ”¹å‰å¿…é¡»é˜…è¯»æœ¬è§„èŒƒ
- é‡åˆ°é—®é¢˜æ—¶é¦–å…ˆæ£€æŸ¥æœ¬è§„èŒƒå’Œå†å²é—®é¢˜è®°å½•
- å®šæœŸæ›´æ–°å’Œä¼˜åŒ–æœ¬è§„èŒƒ
- æ‰€æœ‰å¼€å‘äººå‘˜å¿…é¡»éµå¾ªæœ¬è§„èŒƒ
- æ–°é—®é¢˜è§£å†³åå¿…é¡»è®°å½•åˆ°æ­¤å¤„

---

## ğŸ”„ å®Œæ•´éªŒè¯æµç¨‹è§„èŒƒ v3.0 - MUST FOLLOW

### éªŒè¯é—­ç¯æµç¨‹ï¼ˆå¼ºåˆ¶æ‰§è¡Œï¼Œä¸å¯è·³è¿‡ï¼‰

**æ¯æ¬¡æå‡ºæ–°çš„ä»£ç è§£å†³æ–¹æ¡ˆåï¼Œå¿…é¡»æ‰§è¡Œå®Œæ•´çš„éªŒè¯æµç¨‹**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ éªŒè¯é—­ç¯æµç¨‹ï¼ˆå¾ªç¯ç›´åˆ°æˆåŠŸï¼‰                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ 1ï¸âƒ£ è®¾è®¡è§£å†³æ–¹æ¡ˆ                                            â”‚
â”‚    â†“                                                        â”‚
â”‚ 2ï¸âƒ£ ç¼–è¯‘éªŒè¯                                                â”‚
â”‚    â”œâ”€ âœ… é€šè¿‡ â†’ ç»§ç»­                                       â”‚
â”‚    â””â”€ âŒ å¤±è´¥ â†’ ğŸ”„ é‡æ–°è®¾è®¡ â†’ å›åˆ°æ­¥éª¤1                   â”‚
â”‚    â†“                                                        â”‚
â”‚ 3ï¸âƒ£ ä»¿çœŸæµ‹è¯•                                                â”‚
â”‚    â”œâ”€ âœ… é€šè¿‡ â†’ ç»§ç»­                                       â”‚
â”‚    â””â”€ âŒ å¤±è´¥ â†’ ğŸ”„ é‡æ–°è®¾è®¡ â†’ å›åˆ°æ­¥éª¤1                   â”‚
â”‚    â†“                                                        â”‚
â”‚ 4ï¸âƒ£ å…¨å±€å½±å“åˆ†æ                                            â”‚
â”‚    â”œâ”€ âœ… æ— å½±å“ â†’ ç»§ç»­                                     â”‚
â”‚    â””â”€ âŒ æœ‰å½±å“ â†’ ğŸ”„ é‡æ–°è®¾è®¡ â†’ å›åˆ°æ­¥éª¤1                 â”‚
â”‚    â†“                                                        â”‚
â”‚ 5ï¸âƒ£ æäº¤ç»™ç”¨æˆ·                                              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ­¥éª¤è¯¦è§£

#### 0ï¸âƒ£ ç¯å¢ƒä¾èµ–é¢„æ£€æŸ¥ï¼ˆå‰ç½®æ­¥éª¤ï¼‰

**åœ¨å¼€å§‹éªŒè¯å‰ç¡®ä¿æ‰€æœ‰å¿…è¦çš„è¿è¡Œç¯å¢ƒå·²å°±ç»ª**

```bash
# æ£€æµ‹æ¸…å•
- Homebrew (macOSåŒ…ç®¡ç†å™¨)
- Git (ç‰ˆæœ¬æ§åˆ¶)
- Xcode (iOS/macOSå¼€å‘)
- Node.js/npm (å¦‚éœ€è¦)
- Python (å¦‚éœ€è¦)
- æ•°æ®åº“ (å¦‚éœ€è¦)
```

**å¦‚æœç¼ºå¤±ä¾èµ–**ï¼š
- ğŸ¤– **è‡ªåŠ¨ä¿®å¤**ï¼šå°è¯•è‡ªåŠ¨å®‰è£…ï¼ˆéœ€è¦networkæƒé™ï¼‰
- ğŸ“‹ **æä¾›æŒ‡ä»¤**ï¼šç»™å‡ºè¯¦ç»†å®‰è£…æ­¥éª¤
- âœ… **éªŒè¯å®‰è£…**ï¼šå®‰è£…åç¡®è®¤å¯ç”¨
- ğŸ”„ **é‡æ–°éªŒè¯**ï¼šç»§ç»­åŸéªŒè¯æµç¨‹

#### 2ï¸âƒ£ ç¼–è¯‘éªŒè¯ï¼ˆå¿…é¡»ï¼‰

```bash
# å¯¹äº iOS/macOS é¡¹ç›®
xcodebuild -scheme TIME -destination 'platform=macOS' build
xcodebuild -scheme TIME -destination 'platform=iOS Simulator,name=iPhone 17' build

# å¯¹äº Web é¡¹ç›®
npm run build  # æˆ–å…¶ä»–æ„å»ºå‘½ä»¤

# éªŒè¯ç‚¹
âœ… æ— ç¼–è¯‘é”™è¯¯
âœ… æ— æ–°å¢è­¦å‘Š
âœ… æ‰€æœ‰æ–‡ä»¶æ­£ç¡®åŠ è½½
```

**å¦‚æœç¼–è¯‘å¤±è´¥**ï¼š
- ğŸ” åˆ†æé”™è¯¯ä¿¡æ¯
- ğŸ”„ é‡æ–°è®¾è®¡è§£å†³æ–¹æ¡ˆ
- âœ… å†æ¬¡ç¼–è¯‘éªŒè¯

#### 3ï¸âƒ£ ä»¿çœŸæµ‹è¯•ï¼ˆå¿…é¡»ï¼‰

```bash
# è‡ªåŠ¨è¿è¡Œä»¿çœŸ
sleep 10 && cd /Users/shanwanjun/Desktop/cxs/time/time && echo "3" | ./run-simulation.sh

# éªŒè¯ç‚¹
âœ… Mac åº”ç”¨å¯åŠ¨æˆåŠŸ
âœ… iPhone åº”ç”¨å®‰è£…æˆåŠŸ
âœ… ä¿®æ”¹çš„åŠŸèƒ½æ­£å¸¸å·¥ä½œ
âœ… æ— æ§åˆ¶å°é”™è¯¯
```

#### 4ï¸âƒ£ å…¨å±€å½±å“åˆ†æï¼ˆå¿…é¡»ï¼‰

**æ£€æŸ¥æ¸…å•**ï¼š

```markdown
CSS æ£€æŸ¥ï¼š
- [ ] æ˜¯å¦æœ‰åŒå class/id å†²çªï¼Ÿ
- [ ] æ˜¯å¦æœ‰ CSS ä¼˜å…ˆçº§è¦†ç›–é—®é¢˜ï¼Ÿ
- [ ] æ˜¯å¦å½±å“å…¶ä»–é¡µé¢æ ·å¼ï¼Ÿ
- [ ] åŠ¨ç”»åç§°æ˜¯å¦å†²çªï¼Ÿ

JavaScript æ£€æŸ¥ï¼š
- [ ] å…¨å±€å˜é‡æ˜¯å¦å†²çªï¼Ÿ
- [ ] å‡½æ•°åæ˜¯å¦é‡å¤ï¼Ÿ
- [ ] äº‹ä»¶ç›‘å¬å™¨æ˜¯å¦é‡å¤ç»‘å®šï¼Ÿ
- [ ] æ˜¯å¦å½±å“å…¶ä»–æ¨¡å—ï¼Ÿ

æ•°æ®æ£€æŸ¥ï¼š
- [ ] localStorage é”®åæ˜¯å¦å†²çªï¼Ÿ
- [ ] æ•°æ®ç»“æ„æ˜¯å¦å…¼å®¹ï¼Ÿ
- [ ] æ˜¯å¦éœ€è¦æ•°æ®è¿ç§»ï¼Ÿ

åŠŸèƒ½æ£€æŸ¥ï¼š
- [ ] æ˜¯å¦ç ´åç°æœ‰åŠŸèƒ½ï¼Ÿ
- [ ] æ˜¯å¦éœ€è¦æ›´æ–°æ–‡æ¡£ï¼Ÿ
- [ ] æ˜¯å¦éœ€è¦æ›´æ–°æµ‹è¯•ï¼Ÿ
```

**å¦‚æœå‘ç°å½±å“**ï¼š
- ğŸ”„ é‡æ–°è®¾è®¡ï¼Œé¿å…å†²çª
- ğŸ“ æ›´æ–°ç›¸å…³æ–‡æ¡£
- âœ… å†æ¬¡è¿›è¡Œå…¨æµç¨‹éªŒè¯

---

## ğŸ“š è§£å†³æ–¹æ¡ˆçŸ¥è¯†åº“ç³»ç»Ÿ

### çŸ¥è¯†åº“æ¶æ„

```
~/.cursor-knowledge-base/          # å…¨å±€çŸ¥è¯†åº“
â”œâ”€â”€ solutions/                     # è§£å†³æ–¹æ¡ˆ
â”‚   â”œâ”€â”€ by-category/              # æŒ‰ç±»åˆ«
â”‚   â”‚   â”œâ”€â”€ event-binding/        # äº‹ä»¶ç»‘å®šé—®é¢˜
â”‚   â”‚   â”œâ”€â”€ initialization/       # åˆå§‹åŒ–é—®é¢˜
â”‚   â”‚   â”œâ”€â”€ data-storage/         # æ•°æ®å­˜å‚¨é—®é¢˜
â”‚   â”‚   â”œâ”€â”€ ui-rendering/         # UIæ¸²æŸ“é—®é¢˜
â”‚   â”‚   â”œâ”€â”€ performance/          # æ€§èƒ½ä¼˜åŒ–
â”‚   â”‚   â”œâ”€â”€ cross-platform/       # è·¨å¹³å°å…¼å®¹
â”‚   â”‚   â”œâ”€â”€ security/             # å®‰å…¨é—®é¢˜
â”‚   â”‚   â”œâ”€â”€ networking/           # ç½‘ç»œè¯·æ±‚
â”‚   â”‚   â”œâ”€â”€ state-management/     # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ error-handling/       # é”™è¯¯å¤„ç†
â”‚   â”œâ”€â”€ by-priority/              # æŒ‰ä¼˜å…ˆçº§
â”‚   â”‚   â”œâ”€â”€ critical/             # ä¸¥é‡é—®é¢˜
â”‚   â”‚   â”œâ”€â”€ high/                 # é«˜ä¼˜å…ˆçº§
â”‚   â”‚   â””â”€â”€ medium/               # ä¸­ä¼˜å…ˆçº§
â”‚   â””â”€â”€ by-date/                  # æŒ‰æ—¥æœŸ
â”‚       â””â”€â”€ 2025-10/
â”œâ”€â”€ patterns/                      # è®¾è®¡æ¨¡å¼
â”œâ”€â”€ statistics/                    # ç»Ÿè®¡æ•°æ®
â”‚   â””â”€â”€ solution-stats.json       # è§£å†³æ–¹æ¡ˆç»Ÿè®¡
â””â”€â”€ exports/                       # å¯¼å‡ºæ–‡ä»¶
    â”œâ”€â”€ markdown/                 # Markdownæ ¼å¼
    â””â”€â”€ pdf/                      # PDFæ ¼å¼
```

### è§£å†³æ–¹æ¡ˆæ•°æ®ç»“æ„

```json
{
  "id": "solution-001",
  "title": "è‡ªå®šä¹‰åˆ†ç±»æŒ‰é’®æ— å“åº”é—®é¢˜",
  "category": "event-binding",
  "priority": "high",
  "created_at": "2025-10-26T07:00:00Z",
  "problem": {
    "description": "è®°å½•ç•Œé¢ä¸­çš„ã€Œ+ è‡ªå®šä¹‰ã€æŒ‰é’®ç‚¹å‡»æ— ååº”",
    "symptoms": [
      "ç‚¹å‡»æŒ‰é’®æ— ä»»ä½•å“åº”",
      "æ§åˆ¶å°æ— é”™è¯¯ä¿¡æ¯",
      "æŒ‰é’®æ ·å¼æ­£å¸¸"
    ],
    "affected_platforms": ["iOS", "macOS", "Web"]
  },
  "diagnosis": {
    "root_cause": "SmartActivityTracker æœªåœ¨ app-main.js ä¸­ç»Ÿä¸€åˆå§‹åŒ–",
    "analysis": [
      "activity-tracker.js ä½¿ç”¨å±€éƒ¨å˜é‡åˆ›å»ºå®ä¾‹",
      "app-main.js æœªåˆå§‹åŒ– window.smartActivityTracker",
      "å¯¼è‡´äº‹ä»¶ç›‘å¬å™¨ç»‘å®šæ—¶ DOM æœªå‡†å¤‡å¥½"
    ]
  },
  "solution": {
    "approach": "æš´éœ²ç±»åˆ° windowï¼Œåœ¨ DOMContentLoaded ä¸­ç»Ÿä¸€åˆå§‹åŒ–",
    "changes": [
      {
        "file": "activity-tracker.js",
        "line": 610,
        "change": "ç§»é™¤å±€éƒ¨å®ä¾‹ï¼Œæ”¹ä¸ºæš´éœ²ç±»"
      },
      {
        "file": "app-main.js",
        "lines": "1815-1821",
        "change": "æ·»åŠ  SmartActivityTracker åˆå§‹åŒ–"
      }
    ],
    "code_snippets": {
      "before": "const smartActivityTracker = new SmartActivityTracker();",
      "after": "window.SmartActivityTracker = SmartActivityTracker;"
    }
  },
  "verification": {
    "tested": true,
    "test_date": "2025-10-26",
    "platforms_tested": ["macOS", "iOS"],
    "result": "success",
    "notes": "ç¼–è¯‘æˆåŠŸï¼Œä»¿çœŸè¿è¡Œæ­£å¸¸ï¼Œå¾…ç”¨æˆ·ç¡®è®¤åŠŸèƒ½"
  },
  "metadata": {
    "success_count": 1,
    "last_used": "2025-10-26",
    "tags": ["event-binding", "initialization", "dom-ready"],
    "related_issues": ["æš‚åœæŒ‰é’®æ— å“åº”"],
    "prevention": [
      "æ‰€æœ‰ç®¡ç†å™¨ç±»å¿…é¡»åœ¨ app-main.js ç»Ÿä¸€åˆå§‹åŒ–",
      "ç¡®ä¿ DOM åŠ è½½å®Œæˆåå†ç»‘å®šäº‹ä»¶",
      "ä½¿ç”¨ window å¯¹è±¡æš´éœ²å…¨å±€å®ä¾‹"
    ]
  }
}
```

### è‡ªåŠ¨è®°å½•è§„åˆ™

**è§¦å‘æ¡ä»¶**ï¼ˆæ»¡è¶³ä»»ä¸€å³è®°å½•ï¼‰ï¼š
1. ç”¨æˆ·æ˜ç¡®è¯´"å·²è§£å†³"ã€"åŠŸèƒ½æ­£å¸¸"ã€"æ²¡é—®é¢˜äº†"
2. ä¿®æ”¹å30ç§’å†…æ— æ–°é—®é¢˜åé¦ˆ
3. ç”¨æˆ·å¼€å§‹æ–°çš„ä»»åŠ¡/è¯é¢˜

**è®°å½•å†…å®¹**ï¼š
- é—®é¢˜å®Œæ•´æè¿°
- è¯Šæ–­è¿‡ç¨‹
- è§£å†³æ–¹æ¡ˆï¼ˆå«ä»£ç ï¼‰
- éªŒè¯ç»“æœ
- é¢„é˜²æªæ–½

**ä¸‹æ¬¡é‡åˆ°ç±»ä¼¼é—®é¢˜æ—¶**ï¼š
1. ğŸ” è‡ªåŠ¨æ£€ç´¢çŸ¥è¯†åº“
2. ğŸ“Š åŒ¹é…ç›¸ä¼¼åº¦ > 70% çš„æ–¹æ¡ˆ
3. âœ… ä¼˜å…ˆä½¿ç”¨å·²éªŒè¯çš„æ–¹æ¡ˆ
4. ğŸ¯ å¦‚æˆåŠŸï¼Œå¢åŠ æˆåŠŸè®¡æ•°

---

## ğŸŒ è·¨å¹³å°ä¸€è‡´æ€§éªŒè¯

### æ”¯æŒå¹³å°æ¸…å•

```
âœ… å·²æ”¯æŒå¹³å°ï¼š
  â€¢ iOS (åŸç”Ÿ SwiftUI)
  â€¢ macOS (åŸç”Ÿ SwiftUI)
  â€¢ Web (HTML5/CSS3/JS)

ğŸ”„ è§„åˆ’ä¸­å¹³å°ï¼š
  â€¢ Android (React Native / Flutter)
  â€¢ HarmonyOS é¸¿è’™ (ArkTS / JS)
  â€¢ Web Progressive App (PWA)
  â€¢ å¾®ä¿¡å°ç¨‹åº
  â€¢ æ”¯ä»˜å®å°ç¨‹åº

ğŸ¯ è·¨å¹³å°å…¼å®¹æ€§ç›®æ ‡ï¼š
  â€¢ åŠŸèƒ½ä¸€è‡´æ€§ï¼š100%
  â€¢ UIä¸€è‡´æ€§ï¼š90%ä»¥ä¸Š
  â€¢ æ•°æ®åŒæ­¥ï¼šå®æ—¶
  â€¢ æ€§èƒ½å·®å¼‚ï¼š<10%
```

### å¹³å°éªŒè¯çŸ©é˜µ

| åŠŸèƒ½ | iOS | macOS | Web | Android | HarmonyOS |
|-----|-----|-------|-----|---------|-----------|
| æ´»åŠ¨è®°å½• | âœ… | âœ… | âœ… | ğŸ”„ | ğŸ”„ |
| é¡¹ç›®ç®¡ç† | âœ… | âœ… | âœ… | ğŸ”„ | ğŸ”„ |
| æ•°æ®ç»Ÿè®¡ | âœ… | âœ… | âœ… | ğŸ”„ | ğŸ”„ |
| è‡ªå®šä¹‰åˆ†ç±» | âœ… | âœ… | âœ… | ğŸ”„ | ğŸ”„ |
| å®‰å…¨åŒºåŸŸ | âœ… | âœ… | N/A | ğŸ”„ | ğŸ”„ |

### å¹³å°ç‰¹å®šé€‚é…

```javascript
// å¹³å°æ£€æµ‹
const platform = {
  isIOS: /iPad|iPhone|iPod/.test(navigator.userAgent),
  isMacOS: /Macintosh/.test(navigator.userAgent),
  isAndroid: /Android/.test(navigator.userAgent),
  isHarmonyOS: /HarmonyOS/.test(navigator.userAgent),
  isWeb: !window.webkit && !window.Android
};

// å¹³å°ç‰¹å®šå¤„ç†
if (platform.isIOS || platform.isMacOS) {
  // å¤„ç†å®‰å…¨åŒºåŸŸ
  document.documentElement.style.setProperty(
    '--safe-area-top',
    'env(safe-area-inset-top)'
  );
}
```

---

## ğŸ’¾ æ–‡æ¡£åŒæ­¥ä¸å¤‡ä»½æœºåˆ¶

### å¤‡ä»½ç­–ç•¥

**é‡å¤§ä¿®æ”¹å‰è‡ªåŠ¨å¤‡ä»½**ï¼š

```bash
# å¤‡ä»½å‘½åè§„åˆ™
backups/{é¡¹ç›®åç§°-vç‰ˆæœ¬å·}-{æ—¶é—´æˆ³}/

# ç¤ºä¾‹
backups/
â”œâ”€â”€ Activity-Tracker-v2.2.0-20251025-160000/
â”œâ”€â”€ Activity-Tracker-v2.3.0-20251026-070000/
â””â”€â”€ Activity-Tracker-v2.4.0-20251026-120000/
```

**è§¦å‘æ¡ä»¶**ï¼š
- ä¿®æ”¹è¶…è¿‡ 100 è¡Œä»£ç 
- é‡æ„æ ¸å¿ƒæ¨¡å—
- æ•°æ®ç»“æ„å˜æ›´
- ç”¨æˆ·æ˜ç¡®è¦æ±‚

**å¤‡ä»½å†…å®¹**ï¼š
- å®Œæ•´æºä»£ç 
- .cursorrules æ–‡ä»¶
- é…ç½®æ–‡ä»¶
- Git æäº¤è®°å½•

**æ‰§è¡Œå‘½ä»¤**ï¼š
```bash
# åˆ›å»ºå¤‡ä»½
VERSION="Activity-Tracker-v2.4.0"
TIMESTAMP=$(date +%Y%m%d-%H%M%S)
BACKUP_DIR="backups/${VERSION}-${TIMESTAMP}"
mkdir -p "$BACKUP_DIR"
rsync -av --exclude='node_modules' --exclude='.git' \
      ./ "$BACKUP_DIR/"
git log --oneline -n 20 > "$BACKUP_DIR/git-history.txt"
```

### Git ç‰ˆæœ¬æ ‡è®°

**é‡è¦ç‰ˆæœ¬å¿…é¡»æ‰“ Tag**ï¼š

```bash
# æ ‡è®°ç‰ˆæœ¬ï¼ˆå‘½åè§„åˆ™ï¼šé¡¹ç›®åç§°-vç‰ˆæœ¬å·ï¼‰
git tag -a Activity-Tracker-v2.5.0 -m "Activity Tracker v2.5.0 - åŠŸèƒ½æè¿°"
git push origin Activity-Tracker-v2.5.0

# Tag å‘½åè§„åˆ™
{é¡¹ç›®åç§°}-v{ä¸»ç‰ˆæœ¬}.{æ¬¡ç‰ˆæœ¬}.{ä¿®è®¢ç‰ˆæœ¬}

ç¤ºä¾‹ï¼š
  â€¢ Activity-Tracker-v2.5.0
  â€¢ Activity-Tracker-v3.0.0

ç‰ˆæœ¬å·è§„åˆ™ï¼š
  ä¸»ç‰ˆæœ¬ï¼šé‡å¤§æ¶æ„å˜æ›´
  æ¬¡ç‰ˆæœ¬ï¼šæ–°åŠŸèƒ½æ·»åŠ 
  ä¿®è®¢ç‰ˆæœ¬ï¼šBugä¿®å¤

é¡¹ç›®åç§°ï¼š
  â€¢ Activity-Trackerï¼ˆæ´»åŠ¨è¿½è¸ªå™¨ï¼‰
  â€¢ å…¶ä»–é¡¹ç›®ä½¿ç”¨å¯¹åº”çš„è‹±æ–‡åç§°
```

### Git åŒå‘åŒæ­¥è§„åˆ™ - MUST FOLLOW

**æ ¸å¿ƒåŸåˆ™ï¼šæœ¬åœ°å’Œäº‘ç«¯çš„è§„åˆ™æ–‡ä»¶(.cursorrules)å¿…é¡»ä¿æŒåŒæ­¥**

#### ğŸ“¥ äº‘ç«¯ â†’ æœ¬åœ°ï¼ˆæ‹‰å–åŒæ­¥ï¼‰

**æ¯æ¬¡å¼€å§‹å·¥ä½œå‰ï¼Œå¿…é¡»å…ˆæ‹‰å–äº‘ç«¯æ›´æ–°**ï¼š

```bash
#!/bin/bash
# è‡ªåŠ¨æ£€æŸ¥å¹¶åŒæ­¥äº‘ç«¯è§„åˆ™

sync_rules_from_remote() {
    echo "ğŸ” æ£€æŸ¥äº‘ç«¯è§„åˆ™æ›´æ–°..."

    # 1. è·å–è¿œç¨‹æ›´æ–°ï¼ˆä¸åˆå¹¶ï¼‰
    git fetch origin

    # 2. æ£€æŸ¥.cursorrulesæ˜¯å¦æœ‰è¿œç¨‹æ›´æ–°
    local remote_hash=$(git rev-parse origin/main:.cursorrules 2>/dev/null)
    local local_hash=$(git rev-parse HEAD:.cursorrules 2>/dev/null)

    if [ "$remote_hash" != "$local_hash" ]; then
        echo "ğŸ“¥ å‘ç°äº‘ç«¯è§„åˆ™æ›´æ–°"

        # 3. æ£€æŸ¥æœ¬åœ°æ˜¯å¦æœ‰æœªæäº¤çš„ä¿®æ”¹
        if git diff --quiet .cursorrules; then
            # æœ¬åœ°æ— ä¿®æ”¹ï¼Œç›´æ¥æ‹‰å–
            echo "âœ… æœ¬åœ°æ— ä¿®æ”¹ï¼Œè‡ªåŠ¨æ‹‰å–äº‘ç«¯è§„åˆ™"
            git pull origin main
        else
            # æœ¬åœ°æœ‰ä¿®æ”¹ï¼Œæç¤ºç”¨æˆ·
            echo "âš ï¸  æœ¬åœ°è§„åˆ™æœ‰æœªæäº¤çš„ä¿®æ”¹"
            echo "é€‰æ‹©æ“ä½œï¼š"
            echo "  1) æš‚å­˜æœ¬åœ°ä¿®æ”¹ï¼Œæ‹‰å–äº‘ç«¯ï¼ˆæ¨èï¼‰"
            echo "  2) æ”¾å¼ƒæœ¬åœ°ä¿®æ”¹ï¼Œä½¿ç”¨äº‘ç«¯ç‰ˆæœ¬"
            echo "  3) ä¿ç•™æœ¬åœ°ä¿®æ”¹ï¼Œè·³è¿‡åŒæ­¥"
            read -p "è¯·é€‰æ‹© [1-3]: " choice

            case $choice in
                1)
                    git stash push -m "Auto-stash before sync" .cursorrules
                    git pull origin main
                    git stash pop
                    echo "âœ… å·²åˆå¹¶äº‘ç«¯æ›´æ–°å’Œæœ¬åœ°ä¿®æ”¹"
                    ;;
                2)
                    git checkout origin/main -- .cursorrules
                    echo "âœ… å·²ä½¿ç”¨äº‘ç«¯è§„åˆ™ï¼ˆæœ¬åœ°ä¿®æ”¹å·²ä¸¢å¼ƒï¼‰"
                    ;;
                3)
                    echo "âŠ˜ è·³è¿‡åŒæ­¥ï¼Œä¿ç•™æœ¬åœ°ä¿®æ”¹"
                    ;;
            esac
        fi
    else
        echo "âœ… è§„åˆ™å·²æ˜¯æœ€æ–°ç‰ˆæœ¬"
    fi
}

# å¼€å§‹å·¥ä½œå‰è‡ªåŠ¨æ‰§è¡Œ
sync_rules_from_remote
```

#### ğŸ“¤ æœ¬åœ° â†’ äº‘ç«¯ï¼ˆæ¨é€åŒæ­¥ï¼‰

**æ¯æ¬¡ä¿®æ”¹è§„åˆ™åï¼Œå¿…é¡»æ¨é€åˆ°äº‘ç«¯**ï¼š

```bash
#!/bin/bash
# è‡ªåŠ¨æäº¤å¹¶æ¨é€è§„åˆ™æ›´æ–°

push_rules_to_remote() {
    echo "ğŸ“¤ å‡†å¤‡æ¨é€è§„åˆ™åˆ°äº‘ç«¯..."

    # 1. æ£€æŸ¥.cursorrulesæ˜¯å¦æœ‰ä¿®æ”¹
    if ! git diff --quiet .cursorrules; then
        echo "ğŸ“ æ£€æµ‹åˆ°è§„åˆ™æ–‡ä»¶ä¿®æ”¹"

        # 2. æ˜¾ç¤ºä¿®æ”¹å†…å®¹
        echo "ä¿®æ”¹æ‘˜è¦ï¼š"
        git diff --stat .cursorrules

        # 3. æäº¤è§„åˆ™
        local current_version=$(grep "è§„åˆ™ç‰ˆæœ¬ï¼š" .cursorrules | head -1 | grep -o "v[0-9]\+\.[0-9]\+\.[0-9]\+")
        echo ""
        echo "å½“å‰è§„åˆ™ç‰ˆæœ¬ï¼š$current_version"
        read -p "è¾“å…¥æäº¤è¯´æ˜ï¼ˆå›è½¦ä½¿ç”¨é»˜è®¤ï¼‰: " commit_msg

        if [ -z "$commit_msg" ]; then
            commit_msg="feat: æ›´æ–°è§„åˆ™æ–‡ä»¶ $current_version"
        fi

        git add .cursorrules
        git commit -m "$commit_msg"

        # 4. æ¨é€åˆ°äº‘ç«¯
        echo "ğŸ“¤ æ¨é€åˆ°äº‘ç«¯..."
        if git push origin main; then
            echo "âœ… è§„åˆ™å·²åŒæ­¥åˆ°äº‘ç«¯"

            # 5. è¯¢é—®æ˜¯å¦æ‰“Tag
            read -p "æ˜¯å¦ä¸ºæ­¤è§„åˆ™ç‰ˆæœ¬æ‰“Tag? (y/N): " tag_choice
            if [ "$tag_choice" = "y" ] || [ "$tag_choice" = "Y" ]; then
                git tag -a "Activity-Tracker-Rules-$current_version" -m "è§„åˆ™ç³»ç»Ÿ $current_version"
                git push origin "Activity-Tracker-Rules-$current_version"
                echo "âœ… Tagå·²æ¨é€"
            fi
        else
            echo "âŒ æ¨é€å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–æƒé™"
            return 1
        fi
    else
        echo "âŠ˜ è§„åˆ™æ–‡ä»¶æ— ä¿®æ”¹ï¼Œæ— éœ€æ¨é€"
    fi
}

# ä¿®æ”¹è§„åˆ™åè‡ªåŠ¨æ‰§è¡Œ
push_rules_to_remote
```

#### ğŸ”„ è‡ªåŠ¨åŒæ­¥ç­–ç•¥

**AIå¿…é¡»åœ¨ä»¥ä¸‹æ—¶æœºè‡ªåŠ¨æ‰§è¡ŒåŒæ­¥**ï¼š

1. **å·¥ä½œå¼€å§‹æ—¶**ï¼ˆæ¯æ¬¡ä¼šè¯å¼€å§‹ï¼‰
   ```bash
   # è‡ªåŠ¨æ‰§è¡Œ
   sync_rules_from_remote
   ```

2. **ä¿®æ”¹è§„åˆ™å**
   ```bash
   # è‡ªåŠ¨æ‰§è¡Œ
   push_rules_to_remote
   ```

3. **å®šæœŸåŒæ­¥**ï¼ˆæ¯éš”30åˆ†é’Ÿï¼‰
   ```bash
   # åå°æ‰§è¡Œ
   while true; do
       sleep 1800  # 30åˆ†é’Ÿ
       sync_rules_from_remote
   done &
   ```

#### ğŸ”” å†²çªè§£å†³ç­–ç•¥

**å½“æœ¬åœ°å’Œäº‘ç«¯éƒ½æœ‰ä¿®æ”¹æ—¶**ï¼š

```bash
resolve_rules_conflict() {
    echo "âš ï¸  æ£€æµ‹åˆ°è§„åˆ™å†²çª"
    echo ""

    # 1. æ˜¾ç¤ºå†²çªä¿¡æ¯
    echo "æœ¬åœ°ä¿®æ”¹ï¼š"
    git diff HEAD .cursorrules | head -20
    echo ""
    echo "äº‘ç«¯ä¿®æ”¹ï¼š"
    git diff HEAD origin/main -- .cursorrules | head -20
    echo ""

    # 2. æä¾›è§£å†³æ–¹æ¡ˆ
    echo "è§£å†³æ–¹æ¡ˆï¼š"
    echo "  1) åˆå¹¶ä¸¤è€…ï¼ˆæ¨èï¼‰- ä¿ç•™åŒæ–¹çš„ä¿®æ”¹"
    echo "  2) ä½¿ç”¨æœ¬åœ°ç‰ˆæœ¬ - è¦†ç›–äº‘ç«¯"
    echo "  3) ä½¿ç”¨äº‘ç«¯ç‰ˆæœ¬ - æ”¾å¼ƒæœ¬åœ°"
    echo "  4) æ‰‹åŠ¨è§£å†³ - æ‰“å¼€ç¼–è¾‘å™¨"
    read -p "è¯·é€‰æ‹© [1-4]: " choice

    case $choice in
        1)
            # å°è¯•è‡ªåŠ¨åˆå¹¶
            git merge origin/main
            if [ $? -eq 0 ]; then
                echo "âœ… è‡ªåŠ¨åˆå¹¶æˆåŠŸ"
                git push origin main
            else
                echo "âŒ è‡ªåŠ¨åˆå¹¶å¤±è´¥ï¼Œéœ€è¦æ‰‹åŠ¨è§£å†³"
                echo "è¯·ç¼–è¾‘ .cursorrules è§£å†³å†²çªï¼Œç„¶åè¿è¡Œï¼š"
                echo "  git add .cursorrules"
                echo "  git commit -m 'merge: è§£å†³è§„åˆ™å†²çª'"
                echo "  git push origin main"
            fi
            ;;
        2)
            # ä½¿ç”¨æœ¬åœ°ç‰ˆæœ¬
            git push origin main --force
            echo "âš ï¸  å·²å¼ºåˆ¶æ¨é€æœ¬åœ°ç‰ˆæœ¬ï¼ˆäº‘ç«¯ä¿®æ”¹å·²ä¸¢å¤±ï¼‰"
            ;;
        3)
            # ä½¿ç”¨äº‘ç«¯ç‰ˆæœ¬
            git reset --hard origin/main
            echo "âš ï¸  å·²ä½¿ç”¨äº‘ç«¯ç‰ˆæœ¬ï¼ˆæœ¬åœ°ä¿®æ”¹å·²ä¸¢å¤±ï¼‰"
            ;;
        4)
            # æ‰‹åŠ¨è§£å†³
            ${EDITOR:-vim} .cursorrules
            echo "è¯·è§£å†³å†²çªåæ‰‹åŠ¨æäº¤å’Œæ¨é€"
            ;;
    esac
}
```

#### ğŸ“Š åŒæ­¥çŠ¶æ€ç›‘æ§

**æ˜¾ç¤ºåŒæ­¥çŠ¶æ€**ï¼š

```bash
check_rules_sync_status() {
    echo "ğŸ“Š è§„åˆ™åŒæ­¥çŠ¶æ€"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

    # 1. æœ¬åœ°ç‰ˆæœ¬
    local local_version=$(grep "è§„åˆ™ç‰ˆæœ¬ï¼š" .cursorrules | head -1 | grep -o "v[0-9]\+\.[0-9]\+\.[0-9]\+")
    echo "æœ¬åœ°è§„åˆ™ç‰ˆæœ¬ï¼š$local_version"

    # 2. æœ€åæäº¤æ—¶é—´
    local last_commit=$(git log -1 --format="%ci" -- .cursorrules)
    echo "æœ€åä¿®æ”¹æ—¶é—´ï¼š$last_commit"

    # 3. æ˜¯å¦æœ‰æœªæ¨é€çš„æäº¤
    local unpushed=$(git log origin/main..HEAD --oneline -- .cursorrules | wc -l)
    if [ $unpushed -gt 0 ]; then
        echo "âš ï¸  æœ‰ $unpushed ä¸ªæœªæ¨é€çš„è§„åˆ™æäº¤"
    else
        echo "âœ… æ‰€æœ‰è§„åˆ™ä¿®æ”¹å·²æ¨é€"
    fi

    # 4. æ˜¯å¦æœ‰æœªæ‹‰å–çš„æäº¤
    git fetch origin
    local unpulled=$(git log HEAD..origin/main --oneline -- .cursorrules | wc -l)
    if [ $unpulled -gt 0 ]; then
        echo "âš ï¸  äº‘ç«¯æœ‰ $unpulled ä¸ªæ–°çš„è§„åˆ™æäº¤"
    else
        echo "âœ… å·²åŒæ­¥æ‰€æœ‰äº‘ç«¯æ›´æ–°"
    fi

    # 5. æ˜¯å¦æœ‰æœªæäº¤çš„ä¿®æ”¹
    if ! git diff --quiet .cursorrules; then
        echo "âš ï¸  æœ‰æœªæäº¤çš„è§„åˆ™ä¿®æ”¹"
    else
        echo "âœ… æ— æœªæäº¤çš„ä¿®æ”¹"
    fi

    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
}
```

#### ğŸ¯ ä½¿ç”¨å»ºè®®

**AIçš„è‡ªåŠ¨è¡Œä¸º**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AIè‡ªåŠ¨åŒæ­¥æµç¨‹                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ ä¼šè¯å¼€å§‹                                                â”‚
â”‚   â†“                                                    â”‚
â”‚ æ£€æŸ¥äº‘ç«¯æ›´æ–° â†’ è‡ªåŠ¨æ‹‰å–                                â”‚
â”‚   â†“                                                    â”‚
â”‚ ç”¨æˆ·æå‡ºéœ€æ±‚                                            â”‚
â”‚   â†“                                                    â”‚
â”‚ AIä¿®æ”¹è§„åˆ™                                             â”‚
â”‚   â†“                                                    â”‚
â”‚ è‡ªåŠ¨æäº¤å¹¶æ¨é€ â†’ åŒæ­¥åˆ°äº‘ç«¯                            â”‚
â”‚   â†“                                                    â”‚
â”‚ ç»§ç»­å·¥ä½œ...                                            â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç”¨æˆ·æ‰‹åŠ¨å‘½ä»¤**ï¼š

```bash
# æŸ¥çœ‹åŒæ­¥çŠ¶æ€
check_rules_sync_status

# æ‰‹åŠ¨æ‹‰å–äº‘ç«¯æ›´æ–°
sync_rules_from_remote

# æ‰‹åŠ¨æ¨é€æœ¬åœ°æ›´æ–°
push_rules_to_remote

# è§£å†³å†²çª
resolve_rules_conflict
```

---

## ğŸ”„ å®æ—¶é”™è¯¯å›é€€ç³»ç»Ÿ - AUTO ROLLBACK

### æ ¸å¿ƒåŸåˆ™ï¼šå‡ºç°é”™è¯¯ç«‹å³è‡ªåŠ¨å›é€€åˆ°æœ€è¿‘ç¨³å®šçŠ¶æ€

#### è‡ªåŠ¨å¿«ç…§æœºåˆ¶

**AIå¿…é¡»åœ¨ä»¥ä¸‹æ—¶æœºåˆ›å»ºå¿«ç…§**ï¼š

1. **ä¿®æ”¹ä»£ç å‰**ï¼ˆæ¯æ¬¡é‡å¤§ä¿®æ”¹ï¼‰
   ```bash
   ./scripts/auto-snapshot.sh create
   ```

2. **é‡å¤§åŠŸèƒ½å®Œæˆå**
   ```bash
   ./scripts/auto-snapshot.sh create
   ```

3. **æµ‹è¯•é€šè¿‡å**
   ```bash
   ./scripts/auto-snapshot.sh create
   ```

4. **ç”¨æˆ·æ˜ç¡®è¦æ±‚æ—¶**
   ```bash
   ./scripts/auto-snapshot.sh create
   ```

#### é”™è¯¯ç›‘æ§æœºåˆ¶

**æŒç»­ç›‘æ§ä»¥ä¸‹é”™è¯¯ç±»å‹**ï¼š

```bash
# æ‰§è¡Œä¸€æ¬¡æ€§æ£€æŸ¥
./scripts/error-monitor.sh check

# å¯åŠ¨æŒç»­ç›‘æ§ï¼ˆåå°è¿è¡Œï¼‰
./scripts/error-monitor.sh monitor &

# åœæ­¢ç›‘æ§
./scripts/error-monitor.sh stop
```

**ç›‘æ§é¡¹ç›®**ï¼š
- âœ… ç¼–è¯‘é”™è¯¯ï¼ˆxcodebuildï¼‰
- âœ… è¿è¡Œæ—¶é”™è¯¯ï¼ˆåº”ç”¨å´©æºƒã€å¼‚å¸¸ï¼‰
- âœ… JavaScripté”™è¯¯ï¼ˆæ§åˆ¶å°æ—¥å¿—ï¼‰
- âœ… èµ„æºåŠ è½½å¤±è´¥

#### è‡ªåŠ¨å›é€€è§¦å‘æ¡ä»¶

**æ£€æµ‹åˆ°ä»¥ä¸‹æƒ…å†µç«‹å³å›é€€**ï¼š

1. **ç¼–è¯‘å¤±è´¥**
   - xcodebuildè¿”å›é”™è¯¯
   - è¯­æ³•é”™è¯¯
   - ä¾èµ–ç¼ºå¤±
   - ç±»å‹ä¸åŒ¹é…

2. **è¿è¡Œæ—¶é”™è¯¯**
   - åº”ç”¨å´©æºƒ
   - æœªæ•è·å¼‚å¸¸
   - Fatalé”™è¯¯
   - èµ„æºåŠ è½½å¤±è´¥

3. **æµ‹è¯•å¤±è´¥**ï¼ˆå¦‚æœå¯ç”¨ï¼‰
   - å•å…ƒæµ‹è¯•ä¸é€šè¿‡
   - é›†æˆæµ‹è¯•å¤±è´¥
   - åŠŸèƒ½éªŒè¯å¤±è´¥

#### å›é€€æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è‡ªåŠ¨å›é€€æµç¨‹                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚ æ£€æµ‹åˆ°é”™è¯¯                               â”‚
â”‚   â†“                                     â”‚
â”‚ è®°å½•é”™è¯¯åˆ°æ—¥å¿—                           â”‚
â”‚   â†“                                     â”‚
â”‚ ä¿å­˜å½“å‰ä¿®æ”¹ï¼ˆgit stashï¼‰                â”‚
â”‚   â†“                                     â”‚
â”‚ è·å–æœ€è¿‘ç¨³å®šå¿«ç…§                         â”‚
â”‚   â†“                                     â”‚
â”‚ å›é€€åˆ°å¿«ç…§ï¼ˆgit reset --hardï¼‰           â”‚
â”‚   â†“                                     â”‚
â”‚ ç”Ÿæˆé”™è¯¯æŠ¥å‘Š                             â”‚
â”‚   â†“                                     â”‚
â”‚ é€šçŸ¥ç”¨æˆ·                                 â”‚
â”‚   â†“                                     â”‚
â”‚ åœæ­¢ç›‘æ§ï¼Œç­‰å¾…ç”¨æˆ·ä¿®å¤                   â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å¿«ç…§ç®¡ç†å‘½ä»¤

```bash
# åˆ›å»ºå¿«ç…§
./scripts/auto-snapshot.sh create

# æŸ¥çœ‹å¿«ç…§åˆ—è¡¨
./scripts/auto-snapshot.sh list

# æ¸…ç†æ‰€æœ‰å¿«ç…§
./scripts/auto-snapshot.sh clean

# å›é€€åˆ°ç‰¹å®šå¿«ç…§
./scripts/rollback-to-snapshot.sh <å¿«ç…§åç§°>

# è‡ªåŠ¨å›é€€ï¼ˆæ— ç¡®è®¤ï¼‰
./scripts/rollback-to-snapshot.sh <å¿«ç…§åç§°> --auto

# æŸ¥çœ‹å¯ç”¨å¿«ç…§
./scripts/rollback-to-snapshot.sh list
```

#### æ¢å¤ä¿®æ”¹å‘½ä»¤

**å›é€€åå¦‚éœ€æ¢å¤ä¿®æ”¹**ï¼š

```bash
# æŸ¥çœ‹ä¿å­˜çš„ä¿®æ”¹
git stash list

# æŸ¥çœ‹æœ€è¿‘ä¿®æ”¹çš„è¯¦æƒ…
git stash show stash@{0}

# æ¢å¤ä¿®æ”¹ï¼ˆä¿ç•™stashï¼‰
git stash apply stash@{0}

# æ¢å¤å¹¶åˆ é™¤stash
git stash pop

# æ”¾å¼ƒstash
git stash drop stash@{0}
```

#### é”™è¯¯æŠ¥å‘Š

**ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆé”™è¯¯æŠ¥å‘Š**ï¼š

- **ä½ç½®**: `.error-report-<timestamp>.md`
- **åŒ…å«å†…å®¹**:
  - é”™è¯¯ç±»å‹å’Œæ—¶é—´
  - å›é€€çš„å¿«ç…§ä¿¡æ¯
  - æœ€è¿‘20æ¡é”™è¯¯æ—¥å¿—
  - å›é€€å‰çš„æ–‡ä»¶çŠ¶æ€
  - ä¿®å¤å»ºè®®
  - æ¢å¤å‘½ä»¤

**æŸ¥çœ‹é”™è¯¯æŠ¥å‘Š**ï¼š
```bash
# æŸ¥çœ‹æœ€æ–°é”™è¯¯æŠ¥å‘Š
ls -lt .error-report-*.md | head -1 | xargs cat

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -50 .error-monitor.log
```

#### å®‰å…¨ä¿æŠ¤æœºåˆ¶

1. **ä¿®æ”¹æ°¸ä¸ä¸¢å¤±**
   - æ‰€æœ‰ä¿®æ”¹éƒ½ä¿å­˜åˆ°git stash
   - å¯éšæ—¶æ¢å¤
   - Stashæœ‰è¯¦ç»†è¯´æ˜

2. **å¿«ç…§è‡ªåŠ¨æ¸…ç†**
   - è‡ªåŠ¨ä¿ç•™æœ€è¿‘20ä¸ªå¿«ç…§
   - é¿å…å ç”¨è¿‡å¤šç©ºé—´
   - å¯æ‰‹åŠ¨æ¸…ç†å…¨éƒ¨å¿«ç…§

3. **è¯¦ç»†é”™è¯¯æŠ¥å‘Š**
   - è‡ªåŠ¨ç”ŸæˆMarkdownæ ¼å¼æŠ¥å‘Š
   - åŒ…å«é”™è¯¯åŸå› åˆ†æ
   - æä¾›ä¿®å¤å»ºè®®
   - è®°å½•æ¢å¤å‘½ä»¤

4. **å¯é€‰ç¡®è®¤æœºåˆ¶**
   - è‡ªåŠ¨æ¨¡å¼ï¼ˆ--autoï¼‰ï¼šç›´æ¥å›é€€
   - æ‰‹åŠ¨æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ï¼šéœ€è¦ç¡®è®¤
   - æ˜¾ç¤ºå›é€€é¢„è§ˆ

#### ä½¿ç”¨åœºæ™¯

**åœºæ™¯1ï¼šæ­£å¸¸å¼€å‘**
```bash
# 1. å¼€å§‹æ–°åŠŸèƒ½å‰
./scripts/auto-snapshot.sh create

# 2. æ­£å¸¸å¼€å‘...

# 3. åŠŸèƒ½å®Œæˆå
./scripts/auto-snapshot.sh create

# 4. ç»§ç»­ä¸‹ä¸€ä¸ªåŠŸèƒ½
```

**åœºæ™¯2ï¼šå¯ç”¨ç›‘æ§**
```bash
# 1. å¯åŠ¨åå°ç›‘æ§
./scripts/error-monitor.sh monitor &

# 2. æ­£å¸¸å¼€å‘...

# 3. å¦‚æœå‡ºé”™ï¼Œç³»ç»Ÿè‡ªåŠ¨å›é€€

# 4. æŸ¥çœ‹é”™è¯¯æŠ¥å‘Šï¼Œä¿®å¤é—®é¢˜

# 5. åœæ­¢ç›‘æ§
./scripts/error-monitor.sh stop
```

**åœºæ™¯3ï¼šæ‰‹åŠ¨å›é€€**
```bash
# 1. å‘ç°é—®é¢˜ï¼ŒæŸ¥çœ‹å¿«ç…§
./scripts/auto-snapshot.sh list

# 2. å›é€€åˆ°ç¨³å®šå¿«ç…§
./scripts/rollback-to-snapshot.sh snapshot-20251026-143000

# 3. ç¡®è®¤ä»£ç æ­£å¸¸

# 4. éœ€è¦æ—¶æ¢å¤ä¿®æ”¹
git stash apply

# 5. ä¿®å¤ååˆ›å»ºæ–°å¿«ç…§
./scripts/auto-snapshot.sh create
```

#### AIè‡ªåŠ¨è¡Œä¸º

**AIå¿…é¡»è‡ªåŠ¨æ‰§è¡Œ**ï¼š

1. **ä¿®æ”¹å‰åˆ›å»ºå¿«ç…§**
   - æ¯æ¬¡é‡å¤§ä¿®æ”¹å‰
   - è‡ªåŠ¨æ‰§è¡Œ`./scripts/auto-snapshot.sh create`

2. **ä¿®æ”¹åæ£€æŸ¥é”™è¯¯**
   - æ‰§è¡Œ`./scripts/error-monitor.sh check`
   - å¦‚æœå¤±è´¥ï¼Œè‡ªåŠ¨å›é€€

3. **æŒç»­å¼€å‘æ—¶**ï¼ˆå¯é€‰ï¼‰
   - åå°å¯åŠ¨ç›‘æ§
   - è‡ªåŠ¨æ£€æµ‹é”™è¯¯
   - è‡ªåŠ¨è§¦å‘å›é€€

#### é…ç½®é€‰é¡¹

**é”™è¯¯ç›‘æ§é…ç½®**ï¼ˆåœ¨`scripts/error-monitor.sh`ä¸­ï¼‰ï¼š

```bash
MONITOR_INTERVAL=30      # ç›‘æ§é—´éš”ï¼ˆç§’ï¼‰
MONITOR_COMPILE=true     # ç›‘æ§ç¼–è¯‘é”™è¯¯
MONITOR_RUNTIME=true     # ç›‘æ§è¿è¡Œæ—¶é”™è¯¯
AUTO_ROLLBACK=true       # æ˜¯å¦è‡ªåŠ¨å›é€€
```

**å¿«ç…§é…ç½®**ï¼ˆåœ¨`scripts/auto-snapshot.sh`ä¸­ï¼‰ï¼š

```bash
MAX_SNAPSHOTS=20         # æœ€å¤šä¿ç•™å¿«ç…§æ•°
SNAPSHOT_PREFIX="snapshot"  # å¿«ç…§æ ‡ç­¾å‰ç¼€
```

---

## ğŸš¨ å¼ºåˆ¶æ‰§è¡Œæ£€æŸ¥ç‚¹ç³»ç»Ÿ - CRITICAL

### âš ï¸ æ ¸å¿ƒåŸåˆ™ï¼šç¡¬çº¦æŸï¼Œéè½¯å»ºè®®

**æ¯ä¸ªæ“ä½œå‰å¿…é¡»é€šè¿‡æ‰€æœ‰æ£€æŸ¥ç‚¹ï¼Œå¦åˆ™ç«‹å³ç»ˆæ­¢**

### ğŸ”´ æ£€æŸ¥ç‚¹ 0ï¼šæ¥æ”¶ç”¨æˆ·è¯·æ±‚åï¼ˆå¼ºåˆ¶ï¼‰

```bash
# AIå¿…é¡»æ‰§è¡Œçš„å‘½ä»¤
grep -i "å…³é”®è¯" .cursorrules
```

**å¼ºåˆ¶æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æˆ‘æ˜¯å¦æœç´¢äº†ç›¸å…³è§„åˆ™ï¼Ÿï¼ˆæ‰§è¡Œgrepå‘½ä»¤ï¼‰
- [ ] æˆ‘æ˜¯å¦æ‰¾åˆ°äº†ç›¸å…³è§„åˆ™ï¼Ÿ
- [ ] æˆ‘æ˜¯å¦ç†è§£äº†è§„åˆ™å†…å®¹ï¼Ÿ
- [ ] æˆ‘æ˜¯å¦æŒ‰è§„åˆ™è®¾è®¡æ–¹æ¡ˆï¼Ÿ

**å¦‚æœä»»ä½•ä¸€é¡¹ä¸º"å¦"**ï¼š
```
âŒ ç«‹å³åœæ­¢
ğŸ“‹ æŠ¥å‘Šï¼š"æœªæœç´¢è§„åˆ™ï¼Œè¿åå…ƒè§„åˆ™"
ğŸ”„ é‡æ–°ä»æ£€æŸ¥ç‚¹0å¼€å§‹
```

### ğŸŸ  æ£€æŸ¥ç‚¹ 1ï¼šè®¾è®¡æ–¹æ¡ˆæ—¶ï¼ˆå¼ºåˆ¶ï¼‰

**å…¨å±€å½±å“åˆ†ææ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ–‡ä»¶è·¯å¾„æ˜¯å¦ä¸ç°æœ‰ç»“æ„ä¸€è‡´ï¼Ÿ
- [ ] æ˜¯å¦æ£€æŸ¥äº†æ‰€æœ‰JSå¼•ç”¨è·¯å¾„ï¼Ÿ
- [ ] æ˜¯å¦æ£€æŸ¥äº†CSSå¼•ç”¨è·¯å¾„ï¼Ÿ
- [ ] å‘½åæ˜¯å¦ç¬¦åˆé¡¹ç›®è§„èŒƒï¼Ÿ
- [ ] ç‰ˆæœ¬å·æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼Ÿ
- [ ] æ˜¯å¦ä¼šå½±å“å…¶ä»–æ¨¡å—ï¼Ÿ
- [ ] æ˜¯å¦æœ‰å…¨å±€å˜é‡å†²çªï¼Ÿ
- [ ] æ˜¯å¦æœ‰å‡½æ•°åé‡å¤ï¼Ÿ

**å¦‚æœä»»ä½•ä¸€é¡¹ä¸º"å¦"**ï¼š
```
âŒ ç«‹å³åœæ­¢
ğŸ”„ é‡æ–°è®¾è®¡æ–¹æ¡ˆ
ğŸ“‹ æ‰§è¡Œå®Œæ•´çš„å…¨å±€å½±å“åˆ†æ
```

### ğŸŸ¡ æ£€æŸ¥ç‚¹ 2ï¼šä¿®æ”¹ä»£ç å‰ï¼ˆå¼ºåˆ¶ï¼‰

**æ²™ç›’éªŒè¯æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æˆ‘æ˜¯å¦åˆ›å»ºäº†æ²™ç›’ç¯å¢ƒï¼Ÿ
- [ ] æˆ‘æ˜¯å¦åœ¨æ²™ç›’ä¸­åº”ç”¨äº†ä¿®æ”¹ï¼Ÿ
- [ ] æˆ‘æ˜¯å¦åœ¨æ²™ç›’ä¸­ç¼–è¯‘æˆåŠŸï¼Ÿ
- [ ] æˆ‘æ˜¯å¦åœ¨æ²™ç›’ä¸­æµ‹è¯•é€šè¿‡ï¼Ÿ
- [ ] æˆ‘æ˜¯å¦å‡†å¤‡äº†å›æ»šæ–¹æ¡ˆï¼Ÿ

**å¦‚æœä»»ä½•ä¸€é¡¹ä¸º"å¦"**ï¼š
```
âŒ ç¦æ­¢ä¿®æ”¹ç”¨æˆ·ä»£ç 
ğŸ“‹ æŠ¥å‘Šï¼š"æœªç»æ²™ç›’éªŒè¯ï¼Œè¿åå®‰å…¨è§„èŒƒ"
ğŸ”„ è¿”å›æ£€æŸ¥ç‚¹2ï¼Œå®Œæˆæ²™ç›’éªŒè¯
```

### ğŸŸ¢ æ£€æŸ¥ç‚¹ 3ï¼šæäº¤ç»™ç”¨æˆ·å‰ï¼ˆå¼ºåˆ¶ï¼‰

**æœ€ç»ˆéªŒè¯æ£€æŸ¥æ¸…å•**ï¼š
- [ ] ç¼–è¯‘æ˜¯å¦æˆåŠŸï¼Ÿ
- [ ] ä»¿çœŸæµ‹è¯•æ˜¯å¦é€šè¿‡ï¼Ÿ
- [ ] Macåº”ç”¨æ˜¯å¦æ­£å¸¸æ˜¾ç¤ºï¼Ÿ
- [ ] iPhoneåº”ç”¨æ˜¯å¦æ­£å¸¸æ˜¾ç¤ºï¼Ÿ
- [ ] æ˜¯å¦ç”Ÿæˆäº†éªŒè¯æŠ¥å‘Šï¼Ÿ
- [ ] æ˜¯å¦ç­‰å¾…ç”¨æˆ·æœ€ç»ˆç¡®è®¤ï¼Ÿ

**å¦‚æœä»»ä½•ä¸€é¡¹ä¸º"å¦"**ï¼š
```
âŒ ä¸èƒ½æäº¤ç»™ç”¨æˆ·
ğŸ”„ å›åˆ°ç›¸åº”æ£€æŸ¥ç‚¹ä¿®å¤é—®é¢˜
â™»ï¸  å¾ªç¯ç›´åˆ°å…¨éƒ¨é€šè¿‡
```

---

## ğŸ’» ä¸“ä¸šä»£ç è®¾è®¡è§„èŒƒ - MUST FOLLOW

### è®¾è®¡åŸåˆ™ï¼šä»èµ„æ·±å¼€å‘è€…è§’åº¦è®¾è®¡ä»£ç 

#### 1ï¸âƒ£ å…¨å±€é¡¹ç›®è§†è§’ï¼ˆå¿…é¡»è€ƒè™‘ï¼‰

**è®¾è®¡ä»»ä½•ä»£ç å‰çš„æ€è€ƒæµç¨‹**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸“ä¸šå¼€å‘è€…æ€ç»´æ¨¡å¼                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ éœ€æ±‚ç†è§£                                                â”‚
â”‚   â†“                                                    â”‚
â”‚ åˆ†ææ•´ä½“æ¶æ„ï¼ˆè¿™æ®µä»£ç åœ¨é¡¹ç›®ä¸­çš„ä½ç½®ï¼‰                  â”‚
â”‚   â†“                                                    â”‚
â”‚ æ£€æŸ¥ç°æœ‰ä»£ç ï¼ˆæ˜¯å¦æœ‰ç±»ä¼¼åŠŸèƒ½ï¼Ÿæ˜¯å¦éœ€è¦é‡æ„ï¼Ÿï¼‰          â”‚
â”‚   â†“                                                    â”‚
â”‚ è®¾è®¡æ¨¡å—æ¥å£ï¼ˆå¦‚ä½•ä¸å…¶ä»–æ¨¡å—äº¤äº’ï¼Ÿï¼‰                    â”‚
â”‚   â†“                                                    â”‚
â”‚ é€‰æ‹©è®¾è®¡æ¨¡å¼ï¼ˆå•ä¾‹ï¼Ÿè§‚å¯Ÿè€…ï¼Ÿå·¥å‚ï¼Ÿï¼‰                    â”‚
â”‚   â†“                                                    â”‚
â”‚ è€ƒè™‘æ€§èƒ½å½±å“ï¼ˆæ˜¯å¦éœ€è¦ç¼“å­˜ï¼Ÿé˜²æŠ–ï¼ŸèŠ‚æµï¼Ÿï¼‰              â”‚
â”‚   â†“                                                    â”‚
â”‚ ç¼–å†™ä»£ç ï¼ˆç¬¦åˆè¯­è¨€è§„èŒƒå’Œé¡¹ç›®é£æ ¼ï¼‰                      â”‚
â”‚   â†“                                                    â”‚
â”‚ æ·»åŠ é”™è¯¯å¤„ç†ï¼ˆtry-catchã€è¾¹ç•Œæ£€æŸ¥ï¼‰                    â”‚
â”‚   â†“                                                    â”‚
â”‚ ç¼–å†™æ³¨é‡Šæ–‡æ¡£ï¼ˆJSDocæ ¼å¼ï¼‰                               â”‚
â”‚   â†“                                                    â”‚
â”‚ è€ƒè™‘æµ‹è¯•æ–¹æ¡ˆï¼ˆå¦‚ä½•éªŒè¯ï¼Ÿï¼‰                              â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2ï¸âƒ£ JavaScriptè§„èŒƒï¼ˆES6+ï¼‰

```javascript
// âœ… æ­£ç¡®ç¤ºä¾‹ï¼šå®Œæ•´çš„ç±»è®¾è®¡

/**
 * æ´»åŠ¨è¿½è¸ªå™¨ç±»
 * @class ActivityTracker
 * @description ç®¡ç†æ´»åŠ¨çš„è®°å½•ã€å­˜å‚¨å’Œå±•ç¤º
 */
class ActivityTracker {
    /**
     * @constructor
     */
    constructor() {
        this.activities = [];
        this.currentActivity = null;
        this.storageKey = 'activityTracker_activities';
        this.init();
    }

    /**
     * åˆå§‹åŒ–
     * @private
     */
    init() {
        this.loadData();
        this.setupEventListeners();
    }

    /**
     * åŠ è½½æ•°æ®
     * @private
     * @returns {Array} æ´»åŠ¨åˆ—è¡¨
     */
    loadData() {
        try {
            const data = localStorage.getItem(this.storageKey);
            this.activities = data ? JSON.parse(data) : [];
            return this.activities;
        } catch (error) {
            console.error('åŠ è½½æ•°æ®å¤±è´¥:', error);
            return [];
        }
    }

    /**
     * ä¿å­˜æ•°æ®
     * @private
     */
    saveData() {
        try {
            localStorage.setItem(
                this.storageKey,
                JSON.stringify(this.activities)
            );
        } catch (error) {
            console.error('ä¿å­˜æ•°æ®å¤±è´¥:', error);
            this.handleStorageError(error);
        }
    }

    /**
     * å¤„ç†å­˜å‚¨é”™è¯¯
     * @private
     * @param {Error} error - é”™è¯¯å¯¹è±¡
     */
    handleStorageError(error) {
        if (error.name === 'QuotaExceededError') {
            alert('å­˜å‚¨ç©ºé—´å·²æ»¡ï¼Œè¯·æ¸…ç†æ•°æ®');
        }
    }

    /**
     * è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
     * @private
     */
    setupEventListeners() {
        document.addEventListener('DOMContentLoaded', () => {
            this.render();
        });
    }

    /**
     * æ¸²æŸ“ç•Œé¢
     * @public
     */
    render() {
        // æ¸²æŸ“é€»è¾‘
    }
}

// å¯¼å‡ºåˆ°windowï¼ˆå…¨å±€å•ä¾‹ï¼‰
if (typeof window !== 'undefined') {
    window.ActivityTracker = ActivityTracker;
}
```

#### 3ï¸âƒ£ CSSè§„èŒƒï¼ˆBEM + å˜é‡ï¼‰

```css
/* âœ… æ­£ç¡®ç¤ºä¾‹ï¼šå¯ç»´æŠ¤çš„CSS */

/* CSSå˜é‡å®šä¹‰ */
:root {
    /* é¢œè‰²ç³»ç»Ÿ */
    --primary-color: #667eea;
    --secondary-color: #764ba2;
    --success-color: #10b981;
    --error-color: #ef4444;

    /* é—´è·ç³»ç»Ÿï¼ˆ8pxåŸºå‡†ï¼‰*/
    --space-xs: 4px;
    --space-sm: 8px;
    --space-md: 16px;
    --space-lg: 24px;
    --space-xl: 32px;

    /* å­—ä½“ç³»ç»Ÿ */
    --font-size-sm: 14px;
    --font-size-base: 16px;
    --font-size-lg: 18px;
    --font-size-xl: 24px;

    /* è¾¹æ¡†åŠå¾„ */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;

    /* é˜´å½±ç³»ç»Ÿ */
    --shadow-sm: 0 2px 4px rgba(0,0,0,0.1);
    --shadow-md: 0 4px 8px rgba(0,0,0,0.15);
    --shadow-lg: 0 8px 16px rgba(0,0,0,0.2);
}

/* BEMå‘½åè§„èŒƒ */
.activity-card {
    /* å¸ƒå±€ */
    display: flex;
    flex-direction: column;
    gap: var(--space-md);

    /* å°ºå¯¸ */
    padding: var(--space-lg);
    margin-bottom: var(--space-md);

    /* å¤–è§‚ */
    background: white;
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-md);

    /* äº¤äº’ */
    transition: all 0.3s ease;
    cursor: pointer;
}

.activity-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
}

.activity-card__title {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--primary-color);
}

.activity-card__title--highlighted {
    color: var(--secondary-color);
}

.activity-card__content {
    font-size: var(--font-size-base);
    line-height: 1.6;
}

/* å“åº”å¼è®¾è®¡ï¼ˆç§»åŠ¨ä¼˜å…ˆï¼‰*/
@media (min-width: 768px) {
    .activity-card {
        padding: var(--space-xl);
    }
}
```

#### 4ï¸âƒ£ HTMLè§„èŒƒï¼ˆè¯­ä¹‰åŒ– + å¯è®¿é—®æ€§ï¼‰

```html
<!-- âœ… æ­£ç¡®ç¤ºä¾‹ï¼šè¯­ä¹‰åŒ–HTML -->

<main class="app-container" role="main">
    <!-- å¯¼èˆªåŒºåŸŸ -->
    <nav class="app-nav" role="navigation" aria-label="ä¸»å¯¼èˆª">
        <ul class="nav-list">
            <li class="nav-item">
                <a href="#record"
                   class="nav-link"
                   aria-current="page">
                    è®°å½•
                </a>
            </li>
        </ul>
    </nav>

    <!-- å†…å®¹åŒºåŸŸ -->
    <section class="content-section" aria-labelledby="section-title">
        <header class="section-header">
            <h2 id="section-title" class="section-title">æ´»åŠ¨è®°å½•</h2>
        </header>

        <article class="activity-item"
                 data-id="123"
                 data-status="active"
                 role="article">
            <header class="activity-header">
                <h3 class="activity-title">æ´»åŠ¨æ ‡é¢˜</h3>
                <time datetime="2025-10-26T22:00:00"
                      class="activity-time">
                    22:00
                </time>
            </header>

            <div class="activity-body">
                <p class="activity-description">æ´»åŠ¨æè¿°</p>
            </div>

            <footer class="activity-footer">
                <button type="button"
                        class="btn btn--primary"
                        aria-label="å¼€å§‹æ­¤æ´»åŠ¨">
                    å¼€å§‹
                </button>
            </footer>
        </article>
    </section>
</main>
```

---

## ğŸ¤– è‡ªåŠ¨åŒ–æ²™ç›’éªŒè¯æµç¨‹ - MUST FOLLOW

### æ ¸å¿ƒåŸåˆ™ï¼šä¿®æ”¹ç”¨æˆ·ä»£ç å‰ï¼Œå¿…é¡»åœ¨æ²™ç›’ä¸­å®Œæ•´éªŒè¯

**AIå¿…é¡»åšåˆ°ï¼šå…¨è‡ªåŠ¨ï¼Œæ— éœ€ç”¨æˆ·ä»‹å…¥**

### å·¥ä½œæµç¨‹

```bash
#!/bin/bash
# è‡ªåŠ¨åŒ–æ²™ç›’éªŒè¯ä¸»æµç¨‹

SANDBOX_DIR="/tmp/activity-tracker-sandbox-$(date +%s)"
USER_DIR="/Users/shanwanjun/Desktop/cxs/time"
MAX_ATTEMPTS=5
TIMEOUT=300

# 1ï¸âƒ£ åˆ›å»ºæ²™ç›’ç¯å¢ƒ
create_sandbox() {
    echo "ğŸ”§ åˆ›å»ºæ²™ç›’ç¯å¢ƒ..."

    # æ£€æŸ¥ç£ç›˜ç©ºé—´
    available=$(df -BG /tmp | tail -1 | awk '{print $4}' | sed 's/G//')
    if [ $available -lt 5 ]; then
        echo "âŒ ç£ç›˜ç©ºé—´ä¸è¶³"
        return 1
    fi

    # å¤åˆ¶é¡¹ç›®ï¼ˆæ’é™¤æ•æ„Ÿæ•°æ®ï¼‰
    mkdir -p "$SANDBOX_DIR"
    rsync -a \
        --exclude='.env*' \
        --exclude='*.pem' \
        --exclude='*.key' \
        --exclude='node_modules' \
        --exclude='.git' \
        --exclude='DerivedData' \
        "$USER_DIR/" \
        "$SANDBOX_DIR/"

    # åˆ›å»ºæ²™ç›’æ ‡è®°
    touch "$SANDBOX_DIR/.SANDBOX_ACTIVE"

    echo "âœ… æ²™ç›’åˆ›å»ºå®Œæˆ: $SANDBOX_DIR"
    return 0
}

# 2ï¸âƒ£ è‡ªåŠ¨ç¼–è¯‘ï¼ˆå¾ªç¯ç›´åˆ°æˆåŠŸï¼‰
auto_compile() {
    local attempt=1
    local start_time=$(date +%s)

    while [ $attempt -le $MAX_ATTEMPTS ]; do
        # æ£€æŸ¥è¶…æ—¶
        local current_time=$(date +%s)
        local elapsed=$((current_time - start_time))
        if [ $elapsed -ge $TIMEOUT ]; then
            echo "âŒ ç¼–è¯‘è¶…æ—¶"
            return 1
        fi

        echo "ğŸ”¨ ç¼–è¯‘å°è¯• $attempt/$MAX_ATTEMPTS..."

        cd "$SANDBOX_DIR/time"
        if xcodebuild clean build \
           -scheme time \
           -destination 'platform=macOS' \
           2>&1 | tee compile.log; then
            echo "âœ… ç¼–è¯‘æˆåŠŸ"
            return 0
        else
            echo "âŒ ç¼–è¯‘å¤±è´¥ï¼Œåˆ†æé”™è¯¯..."

            # è‡ªåŠ¨ä¿®å¤å¸¸è§é—®é¢˜
            if grep -q "No such file or directory.*\.js" compile.log; then
                echo "ğŸ”§ ä¿®å¤ï¼šJavaScriptæ–‡ä»¶è·¯å¾„é—®é¢˜"
                fix_js_paths
            fi

            attempt=$((attempt + 1))
        fi
    done

    echo "âŒ ç¼–è¯‘å¤±è´¥ï¼Œå·²è¾¾æœ€å¤§å°è¯•æ¬¡æ•°"
    return 1
}

# 3ï¸âƒ£ è‡ªåŠ¨æµ‹è¯•ï¼ˆå¾ªç¯ç›´åˆ°æˆåŠŸï¼‰
auto_test() {
    local attempt=1

    while [ $attempt -le $MAX_ATTEMPTS ]; do
        echo "ğŸ§ª æµ‹è¯•å°è¯• $attempt/$MAX_ATTEMPTS..."

        # å¯åŠ¨åº”ç”¨
        open "$APP_PATH"
        sleep 10

        # è‡ªåŠ¨æ£€æŸ¥
        local all_passed=true

        # æ£€æŸ¥è¿›ç¨‹
        if ! ps aux | grep "TIME.app" | grep -v grep > /dev/null; then
            echo "âŒ åº”ç”¨è¿›ç¨‹ä¸å­˜åœ¨"
            all_passed=false
        fi

        # æ£€æŸ¥çª—å£
        if ! osascript -e 'tell application "System Events" to exists window 1 of process "TIME"' 2>/dev/null; then
            echo "âŒ åº”ç”¨çª—å£ä¸å­˜åœ¨"
            all_passed=false
        fi

        # æ£€æŸ¥JavaScripté”™è¯¯
        if log show --predicate 'processImagePath contains "TIME"' --last 10s 2>/dev/null | grep -i "404\|not found" > /dev/null; then
            echo "âŒ JavaScriptåŠ è½½å¤±è´¥"
            all_passed=false

            # è‡ªåŠ¨ä¿®å¤
            fix_js_loading_issues
        fi

        if [ "$all_passed" = true ]; then
            echo "âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡"
            return 0
        fi

        attempt=$((attempt + 1))
    done

    return 1
}

# 4ï¸âƒ£ åº”ç”¨åˆ°ç”¨æˆ·ä»£ç 
apply_to_user() {
    echo "ğŸ“‹ åº”ç”¨åˆ°ç”¨æˆ·ä»£ç ..."

    # åªå¤åˆ¶ä¿®æ”¹çš„æ–‡ä»¶
    rsync -a --update \
          --exclude='.SANDBOX_ACTIVE' \
          "$SANDBOX_DIR/time/time/Web/" \
          "$USER_DIR/time/time/Web/"

    echo "âœ… å·²åº”ç”¨åˆ°ç”¨æˆ·é¡¹ç›®"
}

# 5ï¸âƒ£ æ¸…ç†æ²™ç›’
cleanup() {
    echo "ğŸ§¹ æ¸…ç†æ²™ç›’..."
    rm -rf "$SANDBOX_DIR"
}

# ä¸»æµç¨‹
main() {
    echo "ğŸš€ å¼€å§‹è‡ªåŠ¨åŒ–æ²™ç›’éªŒè¯..."

    if ! create_sandbox; then
        echo "âŒ åˆ›å»ºæ²™ç›’å¤±è´¥"
        exit 1
    fi

    if ! auto_compile; then
        echo "âŒ ç¼–è¯‘éªŒè¯å¤±è´¥"
        cleanup
        exit 1
    fi

    if ! auto_test; then
        echo "âŒ åŠŸèƒ½æµ‹è¯•å¤±è´¥"
        cleanup
        exit 1
    fi

    apply_to_user
    cleanup

    echo "âœ… å…¨éƒ¨å®Œæˆï¼"
}

main
```

---

**æœ€åæ›´æ–°ï¼š** 2025å¹´10æœˆ26æ—¥23:00
**è§„åˆ™ç‰ˆæœ¬ï¼š** Activity-Tracker-Rules-v5.0.0
**çŠ¶æ€ï¼š** âœ… ç”Ÿæ•ˆä¸­ï¼ˆæ–°å¢å¼ºåˆ¶æ£€æŸ¥ç‚¹ç³»ç»Ÿï¼‰
