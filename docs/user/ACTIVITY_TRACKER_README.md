# Activity Tracker - 智能活动记录系统

## 🎯 项目概述

Activity Tracker 是一个智能的活动记录和进度管理应用，可以帮助你记录每天的活动、管理项目进度、撰写日记和备忘录，并通过数据可视化了解自己的时间分配。

## ✨ 核心功能

### 1. 📊 智能活动记录

#### 特点：
- **自动分类**：基于AI的智能分类系统，自动识别活动类型
- **智能建议**：根据历史记录提供活动建议
- **项目关联**：自动关联到相关项目
- **实时计时**：精确记录每个活动的时间

#### 使用方法：
1. 在"快速记录"区域输入你正在做的事情
2. 系统会自动建议分类和关联项目
3. 点击"🚀 开始记录"开始计时
4. 完成后点击"⏹️ 结束"停止记录

#### 智能特性：
- **关键词识别**：自动识别活动描述中的关键词
- **历史学习**：根据历史记录学习你的习惯
- **时间上下文**：根据当前时间智能推荐分类
- **项目上下文**：根据相关项目自动分类

### 2. 🎯 项目进度管理

#### 特点：
- **可视化进度**：直观的进度条显示
- **里程碑追踪**：设置和跟踪项目里程碑
- **智能进度计算**：根据活动时长和质量自动更新进度
- **优先级管理**：高/中/低三级优先级

#### 使用方法：
1. 点击"+ 新建项目"创建项目
2. 设置项目名称、描述、目标日期和优先级
3. 记录活动时选择关联项目
4. 系统会自动更新项目进度

#### 进度计算逻辑：
- 基于活动时长（30分钟为基准）
- 基于活动类型（工作>学习>其他）
- 基于项目优先级（高>中>低）
- 基于活动质量（包含"完成"、"实现"等关键词）
- 考虑时间衰减（避免进度增长过快）

### 3. 📈 数据统计与可视化

#### 图表类型：
1. **活动时间分布**（饼图）
   - 显示各类活动的时间占比
   - 直观了解时间分配

2. **时间趋势**（折线图）
   - 显示每天的活动时间变化
   - 分析时间使用趋势

3. **活动热力图**（柱状图）
   - 显示24小时内的活动分布
   - 找到最高效的时间段

#### 时间范围：
- 今天
- 本周
- 本月
- 本季度
- 今年
- 自定义

### 4. 📖 日记与备忘录

#### 日记功能：
- 记录每天的心情和想法
- 心情选择器（😊 😐 😔 😤 😴）
- 自动保存草稿
- AI建议功能（未来实现）

#### 备忘录功能：
- 快速记录想法和提醒
- 待办事项管理
- 一键完成/删除
- 智能排序

## 🤖 AI智能分类器

### 分类策略

Activity Tracker 使用四层智能分类策略：

#### 1. 关键词层（权重40%）
基于预定义的关键词库进行匹配：
- **工作**：编程、开发、设计、会议、文档、测试等
- **学习**：看书、教程、课程、研究、练习等
- **运动**：跑步、健身、游泳、瑜伽、骑行等
- **娱乐**：游戏、电影、音乐、社交、旅行等
- **生活**：做饭、购物、清洁、休息、睡觉等

#### 2. 历史学习层（权重30%）
- 分析历史记录中的相似活动
- 学习你的个人习惯和用词
- 使用文本相似度算法匹配

#### 3. 时间上下文层（权重20%）
根据当前时间智能推荐：
- 9:00-12:00：倾向于"工作"
- 14:00-18:00：倾向于"工作"
- 19:00-21:00：倾向于"学习"
- 21:00-23:00：倾向于"娱乐"

#### 4. 项目关联层（权重10%）
根据关联的项目标签进行分类

### 智能项目关联

系统会根据以下因素自动关联项目：
1. 项目名称匹配（权重：5分）
2. 项目标签匹配（权重：3分/标签）
3. 项目描述匹配（权重：1分/词）
4. 历史关联（权重：2分/次）

只有当匹配度>3时才会自动关联项目。

### 智能进度计算

进度计算公式：
```
基础进度 = 1%
最终进度 = 基础进度 × 时长系数 × 类别系数 × 优先级系数 × 质量系数 × 衰减系数
```

- **时长系数**：min(2.0, 实际时长/30分钟)
- **类别系数**：工作1.5、学习1.3、其他1.0
- **优先级系数**：高1.5、中1.0、低0.7
- **质量系数**：含质量关键词1.2，否则1.0
- **衰减系数**：最近2小时活动过多时0.8，否则1.0

最终进度限制在0.1%-5%之间。

## 📱 用户界面

### 导航栏
- 🏠 **记录**：活动记录主页面
- 🎯 **项目**：项目管理页面
- 📈 **统计**：数据统计与可视化
- 📖 **日记**：日记和备忘录
- ⚙️ **设置**：数据导入导出

### 响应式设计
- 完美适配桌面和移动设备
- 流畅的动画和过渡效果
- 现代化的卡片式设计

## 🛠️ 技术栈

- **前端框架**：原生JavaScript（ES6+）
- **图表库**：ECharts 5.5.0
- **数据存储**：LocalStorage
- **样式**：CSS3（Grid + Flexbox）
- **设计**：Material Design风格

## 🚀 使用指南

### 启动应用

#### 方法1：直接打开
```bash
open activity-tracker.html
```

#### 方法2：本地服务器
```bash
./start-activity-tracker.sh
```
然后访问 `http://localhost:8000/activity-tracker.html`

#### 方法3：iOS/macOS App
```bash
cd time
open time.xcodeproj
```
在Xcode中运行项目

### 基本工作流程

1. **早晨**
   - 打开应用
   - 查看今日备忘录
   - 规划今天的项目

2. **工作时**
   - 开始记录活动
   - 系统自动分类和关联项目
   - 专注完成任务

3. **活动结束后**
   - 结束记录
   - 自动更新项目进度
   - 查看统计数据

4. **晚上**
   - 撰写今日日记
   - 记录心情和想法
   - 回顾今天的时间分配

### 高级技巧

1. **使用智能建议**
   - 输入活动时，系统会显示历史建议
   - 点击建议快速填充

2. **项目里程碑**
   - 为重要项目设置里程碑
   - 系统会自动追踪完成度

3. **自定义分类**
   - 点击"+ 自定义"添加专属分类
   - 系统会学习你的自定义分类

4. **数据导出**
   - 定期导出数据备份
   - 支持JSON格式
   - 可迁移到其他设备

## 📊 数据结构

### Activity（活动）
```javascript
{
  id: "1234567890",
  startTime: Date,
  endTime: Date,
  duration: Number, // 分钟
  activity: String,
  category: String,
  projectId: String,
  tags: Array,
  date: String, // YYYY-MM-DD
  isAutoEnded: Boolean
}
```

### Project（项目）
```javascript
{
  id: "1234567890",
  name: String,
  description: String,
  startDate: Date,
  targetDate: Date,
  progress: Number, // 0-100
  milestones: Array,
  activities: Array,
  status: String, // active/completed/paused
  priority: String, // high/medium/low
  tags: Array,
  createdAt: Date
}
```

### Diary（日记）
```javascript
{
  id: "1234567890",
  date: String, // YYYY-MM-DD
  content: String,
  mood: String, // emoji
  activities: Array,
  tags: Array,
  createdAt: Date,
  updatedAt: Date
}
```

### Memo（备忘录）
```javascript
{
  id: "1234567890",
  content: String,
  priority: String,
  isCompleted: Boolean,
  createdAt: Date
}
```

## 🔒 隐私与安全

- 所有数据存储在本地浏览器
- 不会上传到任何服务器
- 完全离线可用
- 支持数据导出和备份

## 🎨 自定义

### 修改主题颜色
编辑 `css/activity-tracker.css` 中的 CSS 变量：
```css
:root {
    --primary-color: #667eea;
    --secondary-color: #764ba2;
    /* 修改为你喜欢的颜色 */
}
```

### 添加新分类
编辑 `js/ai-classifier.js` 中的 `categoryPatterns`。

### 修改进度计算规则
编辑 `js/ai-classifier.js` 中的 `calculateSmartProgress` 方法。

## 🐛 故障排除

### 问题：数据丢失
**解决方案**：
- 定期导出数据备份
- 不要清除浏览器数据
- 使用私有/隐身模式可能导致数据不保存

### 问题：图表不显示
**解决方案**：
- 确保 ECharts CDN 可访问
- 检查浏览器控制台错误
- 刷新页面重试

### 问题：分类不准确
**解决方案**：
- 手动选择正确分类
- 系统会学习你的偏好
- 使用更明确的活动描述

## 🔮 未来计划

- [ ] AI日记建议功能
- [ ] 数据云同步
- [ ] 团队协作功能
- [ ] 更多图表类型
- [ ] 习惯追踪
- [ ] 专注模式
- [ ] 自定义提醒
- [ ] 数据分析报告
- [ ] 导出PDF报告
- [ ] 第三方集成（Google Calendar等）

## 📄 许可证

开源项目，基于原TIME项目

## 🤝 贡献

欢迎提交Issues和Pull Requests！

## 📧 联系方式

- GitHub: https://github.com/cxs00/time
- 项目主页: https://time-2025.netlify.app

---

**Enjoy tracking your time! 享受记录时光！⏰**

